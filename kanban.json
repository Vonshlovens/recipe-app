{
  "columns": ["backlog", "in-progress", "review", "done"],
  "tasks": [
    {
      "id": "RDM-001",
      "title": "Define recipe TypeScript types from schema",
      "description": "Create TypeScript interfaces/types for the full recipe schema: Recipe, RecipeSource, RecipeTags, Servings, and related types.",
      "spec": "specs/recipe-data-model.md",
      "column": "done",
      "priority": "high"
    },
    {
      "id": "RDM-002",
      "title": "Implement ULID generation for recipe IDs",
      "description": "Add ULID dependency and create a utility for generating recipe IDs.",
      "spec": "specs/recipe-data-model.md",
      "column": "done",
      "priority": "high"
    },
    {
      "id": "RDM-003",
      "title": "Build YAML frontmatter parser",
      "description": "Parse Markdown files with YAML frontmatter into structured Recipe objects. Handle the frontmatter/body split.",
      "spec": "specs/recipe-data-model.md",
      "column": "done",
      "priority": "high"
    },
    {
      "id": "RDM-004",
      "title": "Build YAML frontmatter serializer",
      "description": "Serialize a Recipe object back into a Markdown file with YAML frontmatter.",
      "spec": "specs/recipe-data-model.md",
      "column": "done",
      "priority": "high"
    },
    {
      "id": "RDM-005",
      "title": "Implement frontmatter validation",
      "description": "Validate all frontmatter fields per spec: ULID format, title length, slug format, servings positivity, ISO 8601 durations, difficulty enum, source.type enum, tag format regex.",
      "spec": "specs/recipe-data-model.md",
      "column": "done",
      "priority": "high"
    },
    {
      "id": "RDM-006",
      "title": "Implement Markdown body validation",
      "description": "Validate that the body contains required ## Ingredients and ## Instructions sections with at least one list item each, and that total body size is under 50,000 characters.",
      "spec": "specs/recipe-data-model.md",
      "column": "done",
      "priority": "medium"
    },
    {
      "id": "RDM-007",
      "title": "Implement slug generation with collision avoidance",
      "description": "Generate URL-safe slugs from recipe titles. Handle collisions by appending -2, -3, etc. Regenerate slug on title change.",
      "spec": "specs/recipe-data-model.md",
      "column": "done",
      "priority": "medium"
    },
    {
      "id": "RDM-008",
      "title": "Implement on-save logic (updatedAt, totalTime calc)",
      "description": "On save: set updatedAt to current time, recalculate totalTime from prepTime + cookTime if both present and totalTime not explicitly set.",
      "spec": "specs/recipe-data-model.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "RDM-009",
      "title": "Define tag taxonomy constants and validation",
      "description": "Create constants for built-in tag groups (cuisine, meal, diet, technique, custom) and validate tag values against the regex /^[a-z0-9-]{1,50}$/ with max 20 tags per group.",
      "spec": "specs/recipe-data-model.md",
      "column": "done",
      "priority": "medium"
    },
    {
      "id": "RDM-010",
      "title": "Write unit tests for recipe data model",
      "description": "Test parsing, serialization, validation (valid and invalid cases), slug generation, on-save logic, and tag validation.",
      "spec": "specs/recipe-data-model.md",
      "column": "done",
      "priority": "high"
    },
    {
      "id": "DB-001",
      "title": "Set up SQLite database connection",
      "description": "Initialize SQLite database using Deno's SQLite module. Create the database file and connection utility with proper error handling.",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DB-002",
      "title": "Create migration runner",
      "description": "Build a lightweight migration runner that tracks applied migrations in a _migrations table, applies unapplied migrations in order on startup, and runs each migration in a transaction.",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DB-003",
      "title": "Write initial schema migrations",
      "description": "Create the sequential migration SQL files: 001_create_recipes.sql (recipes table with all columns and constraints), 002_create_recipe_tags.sql (normalized tags table), 003_create_fts.sql (FTS5 virtual table).",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DB-004",
      "title": "Create index migrations",
      "description": "Write migration for standard indexes: slug uniqueness, created_at, updated_at, difficulty, and tag query indexes (group+value composite, value-only).",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DB-005",
      "title": "Implement recipe write path (insert/update)",
      "description": "Build the transactional write path: insert/update recipes row, delete and re-insert recipe_tags, and update the FTS index — all within a single transaction.",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DB-006",
      "title": "Implement recipe read queries",
      "description": "Build query functions for: get recipe by slug, get recipe by ID, list recipes with pagination and sorting (by created_at, updated_at).",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DB-007",
      "title": "Implement tag-based query functions",
      "description": "Build AND, OR, and NOT tag query functions using INTERSECT/UNION/NOT IN patterns against the recipe_tags table.",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "DB-008",
      "title": "Implement full-text search query",
      "description": "Build a search function using the FTS5 virtual table to search recipe titles and body content, returning results ranked by relevance.",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "DB-009",
      "title": "Implement re-index operation",
      "description": "Build a re-index command that reads the document column for all recipes, re-parses frontmatter/body, and rebuilds extracted columns, recipe_tags, and FTS index.",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "low"
    },
    {
      "id": "DB-010",
      "title": "Write unit tests for database layer",
      "description": "Test migration runner, recipe CRUD operations, tag queries (AND/OR/NOT), full-text search, constraint enforcement, and transactional integrity.",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "API-001",
      "title": "Create response envelope helpers",
      "description": "Build utility functions for the standard JSON response envelope: success (single + list), error, and pagination meta. Include requestId generation.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "API-002",
      "title": "Implement request validation middleware",
      "description": "Build a reusable validation layer for incoming request bodies and query parameters. Return 400 with structured error details on failure. Strip unknown fields.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "API-003",
      "title": "Implement GET /api/v1/recipes (list)",
      "description": "Create the recipe list endpoint with pagination (page, pageSize), sorting (createdAt, updatedAt, title), and optional difficulty filter. Return summary objects without document body.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "API-004",
      "title": "Implement GET /api/v1/recipes/:slug (detail)",
      "description": "Create the recipe detail endpoint that returns the full recipe object including parsed Markdown body. Return 404 if slug not found.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "API-005",
      "title": "Implement POST /api/v1/recipes (create)",
      "description": "Create the recipe creation endpoint. Validate request body, auto-generate id/slug/createdAt/updatedAt/totalTime, persist via the database write path, and return 201 with the full recipe.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "API-006",
      "title": "Implement PUT /api/v1/recipes/:slug (full update)",
      "description": "Create the full recipe replacement endpoint. Require all writable fields, preserve id and createdAt, set updatedAt, regenerate slug if title changed. Return 200 with updated recipe.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "API-007",
      "title": "Implement PATCH /api/v1/recipes/:slug (partial update)",
      "description": "Create the partial update endpoint with merge semantics: top-level fields replaced, tag groups replaced per-group, body replaces entirely if provided. Return 200 with full updated recipe.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "API-008",
      "title": "Implement DELETE /api/v1/recipes/:slug",
      "description": "Create the recipe deletion endpoint. Remove the recipe and return 204 No Content. Return 404 if slug not found.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "API-009",
      "title": "Implement GET /api/v1/recipes/search (full-text search)",
      "description": "Create the full-text search endpoint using FTS5. Accept q parameter, return paginated recipe summaries ordered by relevance. Return 400 if q is missing.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "API-010",
      "title": "Implement GET /api/v1/recipes/query (tag query)",
      "description": "Create the tag-based query endpoint supporting include (AND), any (OR), and exclude (NOT) parameters as comma-separated group:value pairs. Return paginated results with sorting.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "API-011",
      "title": "Implement GET /api/v1/tags endpoints",
      "description": "Create endpoints to list all tags grouped with usage counts (GET /api/v1/tags) and list tags within a specific group (GET /api/v1/tags/:group).",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "API-012",
      "title": "Set up SvelteKit API route file structure",
      "description": "Create the SvelteKit file-based route structure under src/routes/api/v1/ with +server.ts files for recipes, recipes/[slug], recipes/search, recipes/query, tags, and tags/[group].",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "API-013",
      "title": "Write integration tests for API routes",
      "description": "Test all API endpoints: CRUD operations, pagination, sorting, search, tag queries, validation error responses, 404 handling, and response envelope format.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "AUTH-001",
      "title": "Write users and sessions migration files",
      "description": "Create 004_create_users.sql and 005_create_sessions.sql migration files with the users table, sessions table, and their indexes.",
      "spec": "specs/auth.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "AUTH-002",
      "title": "Define User and Session TypeScript types",
      "description": "Create TypeScript interfaces for User (id, email, displayName, createdAt, updatedAt) and Session (id, userId, createdAt, expiresAt). Exclude passwordHash from the public User type.",
      "spec": "specs/auth.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "AUTH-003",
      "title": "Implement password hashing utility",
      "description": "Create a utility module for bcrypt password hashing (cost factor 10) and comparison. Enforce password length rules (8–128 characters).",
      "spec": "specs/auth.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "AUTH-004",
      "title": "Implement session token generation and management",
      "description": "Create functions for generating cryptographically random 32-byte hex session tokens, creating session rows, validating sessions, extending expiry (sliding window at 50% lifetime), and deleting sessions.",
      "spec": "specs/auth.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "AUTH-005",
      "title": "Implement SvelteKit handle hook for session validation",
      "description": "Add session validation in src/hooks.server.ts: read the session cookie, look up the token, load the user into event.locals.user. Update app.d.ts with the Locals type.",
      "spec": "specs/auth.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "AUTH-006",
      "title": "Implement POST /api/v1/auth/register",
      "description": "Create the registration endpoint: validate email/displayName/password, hash password, insert user, return 201 with user data. Handle 409 for duplicate emails.",
      "spec": "specs/auth.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "AUTH-007",
      "title": "Implement POST /api/v1/auth/login",
      "description": "Create the login endpoint: validate credentials, compare password hash, create session row, set session cookie, return user data. Return generic 401 on failure.",
      "spec": "specs/auth.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "AUTH-008",
      "title": "Implement POST /api/v1/auth/logout",
      "description": "Create the logout endpoint: delete the session row, clear the session cookie, return 204. Idempotent if no session exists.",
      "spec": "specs/auth.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "AUTH-009",
      "title": "Implement GET /api/v1/auth/me",
      "description": "Create the current-user endpoint: return the authenticated user's data from event.locals.user. Return 401 if not authenticated.",
      "spec": "specs/auth.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "AUTH-010",
      "title": "Implement requireAuth helper and protect write endpoints",
      "description": "Create a reusable requireAuth function that throws 401 if event.locals.user is missing. Add it to POST/PUT/PATCH/DELETE recipe endpoints.",
      "spec": "specs/auth.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "AUTH-011",
      "title": "Implement expired session cleanup",
      "description": "Build a function to delete expired sessions from the sessions table. Can be called on a schedule or on-demand.",
      "spec": "specs/auth.md",
      "column": "backlog",
      "priority": "low"
    },
    {
      "id": "AUTH-012",
      "title": "Write tests for auth system",
      "description": "Test registration (valid, duplicate email, invalid input), login (valid, wrong password, wrong email), logout, session validation, session expiry, requireAuth middleware, and cookie handling.",
      "spec": "specs/auth.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SQ-001",
      "title": "Implement tag query parser",
      "description": "Build the parser that accepts comma-separated group:value strings from API query parameters, validates group and value, deduplicates, and detects contradictory queries (tag in both include and exclude).",
      "spec": "specs/search-and-query.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SQ-002",
      "title": "Implement tag query SQL builder",
      "description": "Build the SQL generator that translates a parsed TagQuery (AND/OR/NOT operators) into parameterized SQL using INTERSECT, UNION, and NOT IN subqueries against the recipe_tags table.",
      "spec": "specs/search-and-query.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SQ-003",
      "title": "Implement full-text search query processing",
      "description": "Build the search query processor: sanitize user input (strip FTS5 operators), tokenize, append prefix wildcard to last term, and execute against recipes_fts with BM25 ranking (title weight 10.0, body weight 1.0).",
      "spec": "specs/search-and-query.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SQ-004",
      "title": "Implement sort parser and SQL generation",
      "description": "Build the sort option parser that accepts a sort string (e.g., '-createdAt'), validates against allowed fields (createdAt, updatedAt, title), and generates ORDER BY clauses with a secondary sort on id for stability.",
      "spec": "specs/search-and-query.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "SQ-005",
      "title": "Implement pagination logic",
      "description": "Build the pagination module: validate page/pageSize parameters, calculate offset, execute COUNT query for total items, and assemble pagination meta (page, pageSize, totalItems, totalPages).",
      "spec": "specs/search-and-query.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "SQ-006",
      "title": "Build composable query builder",
      "description": "Create the QueryBuilder that composes tag filters, full-text search, difficulty filter, sorting, and pagination into a single parameterized SQL query. Ensure all user input is passed as bind parameters.",
      "spec": "specs/search-and-query.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SQ-007",
      "title": "Implement query input validation and error handling",
      "description": "Add validation for all query inputs: max tags per operator (10), max search query length (200 chars), invalid sort fields, out-of-range pagination. Return structured errors per the error handling table in the spec.",
      "spec": "specs/search-and-query.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "SQ-008",
      "title": "Write unit tests for search and query engine",
      "description": "Test tag query parsing (valid, invalid, contradictory), SQL generation for all operator combinations, FTS query sanitization and prefix matching, sort parsing, pagination calculation, and query builder composition.",
      "spec": "specs/search-and-query.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "BA-001",
      "title": "Set up Deno project with deno.json config",
      "description": "Create deno.json with compiler options, task definitions (dev, build, preview, check, test, lint, fmt), import map aliases ($lib), and nodeModulesDir setting.",
      "spec": "specs/backend-architecture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "BA-002",
      "title": "Create SvelteKit project structure",
      "description": "Set up svelte.config.js, vite.config.ts, app.html, and the directory skeleton: src/lib/server/db, src/lib/server/auth, src/lib/server/middleware, src/lib/server/services, src/lib/models, src/lib/utils, src/routes/api/v1.",
      "spec": "specs/backend-architecture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "BA-003",
      "title": "Implement app.d.ts with Locals type declarations",
      "description": "Define the App.Locals interface with requestId and optional user fields, establishing the typed contract for SvelteKit's event.locals.",
      "spec": "specs/backend-architecture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "BA-004",
      "title": "Implement request ID middleware hook",
      "description": "Create the requestId handle hook in hooks.server.ts that generates a ULID per request, attaches it to event.locals.requestId, and sets the X-Request-Id response header.",
      "spec": "specs/backend-architecture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "BA-005",
      "title": "Implement AppError class hierarchy",
      "description": "Create src/lib/models/errors.ts with AppError base class and subclasses: NotFoundError, ValidationError, ConflictError, AuthError. Each carries a code, message, HTTP status, and optional details.",
      "spec": "specs/backend-architecture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "BA-006",
      "title": "Implement withErrorHandling route wrapper",
      "description": "Create the withErrorHandling utility in src/lib/server/middleware/error-handler.ts that catches AppError instances in route handlers and converts them to JSON error responses with the correct status code.",
      "spec": "specs/backend-architecture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "BA-007",
      "title": "Implement response envelope helpers",
      "description": "Create src/lib/utils/response.ts with success(), listSuccess(), and errorResponse() functions that produce the standard JSON response envelope with requestId and pagination meta.",
      "spec": "specs/backend-architecture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "BA-008",
      "title": "Implement environment config loader",
      "description": "Create src/lib/server/config.ts that reads environment variables (DATABASE_PATH, SESSION_COOKIE, SESSION_MAX_AGE, BCRYPT_COST, NODE_ENV) with typed defaults and throws on missing required values.",
      "spec": "specs/backend-architecture.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "BA-009",
      "title": "Implement handleError hook for unexpected errors",
      "description": "Add the handleError export to hooks.server.ts that logs the full error server-side with the requestId and returns a sanitized error response to the client.",
      "spec": "specs/backend-architecture.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "BA-010",
      "title": "Set up test directory structure and conventions",
      "description": "Create tests/unit and tests/integration directories. Add a sample test file verifying the Deno test runner works with @std/assert. Document test naming conventions.",
      "spec": "specs/backend-architecture.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "IMP-001",
      "title": "Implement URL validator for import pipeline",
      "description": "Build the URL validation module: check for valid absolute URL with http/https scheme, block private/internal IP ranges (SSRF prevention), enforce 2048 char max length, and support a configurable domain blocklist.",
      "spec": "specs/recipe-import.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "IMP-002",
      "title": "Implement HTTP fetcher for import pipeline",
      "description": "Build the fetcher module that issues an HTTP GET with a custom User-Agent, 15-second timeout, 5 MB max response size, and max 5 redirects. Return the HTML body or a typed fetch error.",
      "spec": "specs/recipe-import.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "IMP-003",
      "title": "Implement JSON-LD recipe extractor",
      "description": "Parse <script type=\"application/ld+json\"> blocks from HTML, locate Schema.org Recipe objects (including @graph arrays), and extract all mapped fields (name, recipeIngredient, recipeInstructions, times, yield, author, image, etc.).",
      "spec": "specs/recipe-import.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "IMP-004",
      "title": "Implement microdata recipe extractor",
      "description": "Walk the DOM for elements with itemscope/itemtype containing schema.org/Recipe, collect itemprop values, and map to the same field mapping as JSON-LD extraction.",
      "spec": "specs/recipe-import.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "IMP-005",
      "title": "Implement fallback HTML scraper",
      "description": "Build heuristic-based extraction: find title from h1/og:title/title, ingredients from ul/ol in ingredient-like containers, instructions from ol in instruction/direction/step/method containers, and image from og:image or largest img.",
      "spec": "specs/recipe-import.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "IMP-006",
      "title": "Implement extraction strategy dispatcher",
      "description": "Build the extractor module that tries JSON-LD, microdata, and fallback scraping in priority order, short-circuiting on the first success. Return extracted data with the strategy used and per-field confidence levels.",
      "spec": "specs/recipe-import.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "IMP-007",
      "title": "Implement duration and yield parsers",
      "description": "Build duration-parser.ts (human-readable strings like '30 minutes' → ISO 8601 PT30M, plain numbers assumed minutes) and yield-parser.ts (strings like '4 servings', '6', '4-6' → { default: number, unit: string }).",
      "spec": "specs/recipe-import.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "IMP-008",
      "title": "Implement tag inferrer for imported recipes",
      "description": "Build tag-inferrer.ts: map recipeCuisine → tags.cuisine, recipeCategory → tags.meal, scan keywords/title for dietary terms → tags.diet, remaining keywords → tags.custom. Lowercase, hyphenate, validate against tag regex.",
      "spec": "specs/recipe-import.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "IMP-009",
      "title": "Implement recipe normalizer",
      "description": "Build normalizer.ts that transforms raw extracted data into an ImportDraft: generate ULID/slug/timestamps, set source metadata, assemble Markdown body (## Ingredients, ## Instructions, ## Notes), infer tags, run validation, and collect warnings.",
      "spec": "specs/recipe-import.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "IMP-010",
      "title": "Implement import service orchestrator",
      "description": "Build import-service.ts that orchestrates the full pipeline: validate URL → fetch HTML → extract recipe → normalize to draft. Handle errors at each stage and return the ImportDraft or a typed error.",
      "spec": "specs/recipe-import.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "IMP-011",
      "title": "Implement POST /api/v1/recipes/import endpoint",
      "description": "Create the SvelteKit route at src/routes/api/v1/recipes/import/+server.ts. Require auth, accept { url } body, call import service, return the ImportDraft as a 200 response or error.",
      "spec": "specs/recipe-import.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "IMP-012",
      "title": "Write tests for recipe import pipeline",
      "description": "Test URL validation (valid, private IP, too long), JSON-LD extraction (single Recipe, @graph, missing fields), microdata extraction, fallback scraping, duration/yield parsing, tag inference, normalization, and end-to-end import service.",
      "spec": "specs/recipe-import.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OCR-001",
      "title": "Implement image validator for OCR pipeline",
      "description": "Build the image validation module: check magic bytes for JPEG/PNG/WebP/HEIC, enforce 10 MB max file size, validate dimensions (min 200x200, max 8000x8000).",
      "spec": "specs/ocr-pipeline.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OCR-002",
      "title": "Implement image preprocessor",
      "description": "Build the image preprocessing module using sharp: auto-orient from EXIF, convert to grayscale, resize if longest edge exceeds 4000px, normalize HEIC to PNG.",
      "spec": "specs/ocr-pipeline.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OCR-003",
      "title": "Implement Tesseract.js OCR engine wrapper",
      "description": "Create the OCR engine module: initialize Tesseract.js worker with LSTM mode, configure language support, process images with 60-second timeout, return full text and confidence score.",
      "spec": "specs/ocr-pipeline.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OCR-004",
      "title": "Implement OCR text cleaner",
      "description": "Build the text cleanup module: normalize whitespace, apply common OCR substitution corrections (l→1, O→0, rn→m, etc.) in recipe context, remove page artifacts like headers/footers and page numbers.",
      "spec": "specs/ocr-pipeline.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OCR-005",
      "title": "Implement recipe text parser",
      "description": "Build the recipe parser that identifies title, ingredients, instructions, servings, and time values from cleaned OCR text using heuristic section detection. Assign confidence levels to each section.",
      "spec": "specs/ocr-pipeline.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OCR-006",
      "title": "Implement OCR draft normalizer",
      "description": "Build the normalizer that transforms parsed OCR output into a draft Recipe object: generate ULID/slug/timestamps, set source.type to 'ocr', build Markdown body, infer tags from title/ingredients, run validation, collect warnings.",
      "spec": "specs/ocr-pipeline.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OCR-007",
      "title": "Define OCR TypeScript types",
      "description": "Create TypeScript interfaces for OcrDraft, OcrWarning, OcrParseResult, and RightsAttestation in src/lib/models/ocr-types.ts.",
      "spec": "specs/ocr-pipeline.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OCR-008",
      "title": "Implement rights attestation validation",
      "description": "Add attestation enforcement to POST /api/v1/recipes: when source.type is 'ocr', require the attestation field with a valid attestationType. Return 400 OCR_ATTESTATION_REQUIRED if missing.",
      "spec": "specs/ocr-pipeline.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OCR-009",
      "title": "Implement OCR service orchestrator",
      "description": "Build ocr-service.ts that orchestrates the full pipeline: validate image → preprocess → OCR → clean text → parse → normalize to draft. Handle errors at each stage and return OcrDraft or typed error.",
      "spec": "specs/ocr-pipeline.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OCR-010",
      "title": "Implement POST /api/v1/recipes/ocr endpoint",
      "description": "Create the SvelteKit route at src/routes/api/v1/recipes/ocr/+server.ts. Require auth, accept multipart/form-data with image and optional language, call OCR service, return OcrDraft as 200 response or error.",
      "spec": "specs/ocr-pipeline.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OCR-011",
      "title": "Write tests for OCR pipeline",
      "description": "Test image validation (valid formats, oversized, too small, corrupt), image preprocessing, OCR engine wrapper (mock Tesseract), text cleaner substitutions, recipe parser section detection, normalizer, attestation enforcement, and end-to-end OCR service.",
      "spec": "specs/ocr-pipeline.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SLE-001",
      "title": "Implement ingredient line parser",
      "description": "Build the parser that transforms raw ingredient lines from Markdown into ParsedIngredient objects: extract quantity (integers, decimals, fractions, mixed numbers, ranges), unit, name, prep notes, and parenthetical notes.",
      "spec": "specs/shopping-list-engine.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SLE-002",
      "title": "Define shopping list TypeScript types",
      "description": "Create TypeScript interfaces for ParsedIngredient, ShoppingListRequest, ShoppingList, ShoppingListItem, ShoppingListRecipeRef, and ScalingRequest in src/lib/models/shopping-list.ts.",
      "spec": "specs/shopping-list-engine.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SLE-003",
      "title": "Build unit dictionary and normalizer",
      "description": "Create the unit dictionary mapping aliases to canonical unit names (tsp, tbsp, cup, oz, lb, g, kg, ml, l, etc.) with case-insensitive matching. Classify each unit by type (volume, weight, count).",
      "spec": "specs/shopping-list-engine.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SLE-004",
      "title": "Implement unit conversion logic",
      "description": "Build within-type unit conversion functions for volume (tsp→tbsp→cup, ml→l) and weight (oz→lb, g→kg). Apply threshold-based upsizing (e.g., 3 tsp → 1 tbsp, 16 oz → 1 lb).",
      "spec": "specs/shopping-list-engine.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SLE-005",
      "title": "Implement recipe scaling math",
      "description": "Build the scaling module that adjusts ingredient quantities based on target vs. default servings. Handle null quantities, enforce 0.25×–10× scaling limits, and round to friendly fractions.",
      "spec": "specs/shopping-list-engine.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SLE-006",
      "title": "Implement friendly fraction formatter",
      "description": "Build a utility that converts decimal quantities to display strings using common fractions (¼, ⅓, ½, ⅔, ¾) and mixed numbers (1 ½, 2 ¼). Fall back to 2 decimal places for non-standard values.",
      "spec": "specs/shopping-list-engine.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "SLE-007",
      "title": "Implement ingredient name normalizer for deduplication",
      "description": "Build name normalization: lowercase, trim whitespace, strip articles (a/an/the), basic singularization (suffix-based), and remove common modifiers (fresh, dried, frozen, organic, large, small, etc.).",
      "spec": "specs/shopping-list-engine.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SLE-008",
      "title": "Implement multi-recipe aggregation and deduplication",
      "description": "Build the aggregation pipeline: group parsed ingredients by normalized name, merge quantities with compatible units, keep incompatible units as separate line items, and handle null-quantity merging rules.",
      "spec": "specs/shopping-list-engine.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SLE-009",
      "title": "Implement shopping list service orchestrator",
      "description": "Build shopping-list-service.ts that orchestrates the full pipeline: resolve recipes → parse ingredients → scale → normalize names → aggregate → format output. Handle errors at each stage.",
      "spec": "specs/shopping-list-engine.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SLE-010",
      "title": "Implement POST /api/v1/shopping-list endpoint",
      "description": "Create the SvelteKit route at src/routes/api/v1/shopping-list/+server.ts. Require auth, validate request body (items array, servings, limits), call shopping list service, return ShoppingList response.",
      "spec": "specs/shopping-list-engine.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SLE-011",
      "title": "Write tests for shopping list engine",
      "description": "Test ingredient parsing (all quantity formats, edge cases, unparseable lines), unit normalization, unit conversion, scaling math, fraction formatting, name normalization, dedup/aggregation rules, and end-to-end shopping list service.",
      "spec": "specs/shopping-list-engine.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "REC-001",
      "title": "Write user_preferences and recipe_interactions migrations",
      "description": "Create migration files for the user_preferences table (user_id, pref_type, tag_group, tag_value) and recipe_interactions table (id, user_id, recipe_id, action, created_at) with indexes.",
      "spec": "specs/recommendation-engine.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "REC-002",
      "title": "Define recommendation TypeScript types",
      "description": "Create TypeScript interfaces for TagFrequencyProfile, TagCount, UserPreferences, RecommendationQuery, ScoredRecipe, and score breakdown in src/lib/models/recommendation.ts.",
      "spec": "specs/recommendation-engine.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "REC-003",
      "title": "Implement tag frequency profile builder",
      "description": "Build the module that queries recipe_tags for a user's collection and returns a TagFrequencyProfile with per-tag counts and frequencies.",
      "spec": "specs/recommendation-engine.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "REC-004",
      "title": "Implement user preferences CRUD",
      "description": "Build functions to read, upsert, and delete user preferences (boosts and suppressions) in the user_preferences table. Enforce max 20 total and no contradictions.",
      "spec": "specs/recommendation-engine.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "REC-005",
      "title": "Implement tag similarity scorer",
      "description": "Build the tag similarity scoring function that compares a candidate recipe's tags against the user's tag frequency profile and returns a 0–1 score.",
      "spec": "specs/recommendation-engine.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "REC-006",
      "title": "Implement preference boost scorer",
      "description": "Build the preference boost/suppression scoring function: +0.15 per boosted tag (capped at +1.0), -0.5 per suppressed tag (floored at -1.0).",
      "spec": "specs/recommendation-engine.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "REC-007",
      "title": "Implement freshness bonus and composite score calculator",
      "description": "Build the freshness bonus function (0.1 decaying over 30 days) and the composite score calculator that combines tag similarity (0.6), preference boost (0.25), freshness (0.1), and diversity penalty (0.05).",
      "spec": "specs/recommendation-engine.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "REC-008",
      "title": "Implement diversity re-ranking",
      "description": "Build the greedy diversity re-ranker that penalizes candidates sharing too many tags with already-selected recommendations, applied over a 3x candidate pool.",
      "spec": "specs/recommendation-engine.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "REC-009",
      "title": "Implement cold-start fallback strategies",
      "description": "Build cold-start handling: return popular recipes (by view count) for new users, apply confidence discount for sparse collections (< 10 recipes), and supplement with popular recipes to fill the set.",
      "spec": "specs/recommendation-engine.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "REC-010",
      "title": "Implement reason generation",
      "description": "Build the reason generator that produces human-readable explanation strings from the scoring breakdown using the defined templates.",
      "spec": "specs/recommendation-engine.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "REC-011",
      "title": "Implement recommendation service orchestrator",
      "description": "Build recommendation-service.ts that orchestrates the full pipeline: build profile → apply query filters → score candidates → diversify → generate reasons → return ranked results.",
      "spec": "specs/recommendation-engine.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "REC-012",
      "title": "Implement GET /api/v1/recommendations endpoint",
      "description": "Create the SvelteKit route for personalized recommendations. Require auth, parse query params (limit, difficulty, maxTime, excludeOwned, tags, mood), call recommendation service, return scored results.",
      "spec": "specs/recommendation-engine.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "REC-013",
      "title": "Implement GET /api/v1/recommendations/profile endpoint",
      "description": "Create the endpoint that returns the user's computed tag frequency profile and current preferences.",
      "spec": "specs/recommendation-engine.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "REC-014",
      "title": "Implement PUT /api/v1/recommendations/preferences endpoint",
      "description": "Create the endpoint to update user taste preferences (boosts and suppressions). Validate constraints and return updated preferences.",
      "spec": "specs/recommendation-engine.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "REC-015",
      "title": "Implement POST /api/v1/recipes/:slug/interact endpoint",
      "description": "Create the endpoint to record user interactions (view, save) with recipes. Require auth, validate action, store in recipe_interactions, return 204.",
      "spec": "specs/recommendation-engine.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "REC-016",
      "title": "Write tests for recommendation engine",
      "description": "Test tag frequency profile building, preference CRUD and validation, tag similarity scoring, preference boost scoring, composite score calculation, diversity re-ranking, cold-start fallbacks, reason generation, and end-to-end recommendation service.",
      "spec": "specs/recommendation-engine.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FA-001",
      "title": "Set up Tailwind CSS 4 with app.css theme config",
      "description": "Create src/app.css with Tailwind 4 @import and @theme block defining color palette, typography, border radius, and shadows. Configure dark mode overrides via @theme dark.",
      "spec": "specs/frontend-architecture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FA-002",
      "title": "Initialize shadcn-svelte and install base components",
      "description": "Run shadcn-svelte init, then add initial component set: Button, Card, Input, Label, Textarea, Select, Dialog, Badge, Separator, Skeleton, Toast, DropdownMenu.",
      "spec": "specs/frontend-architecture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FA-003",
      "title": "Create root layout with Navbar and Footer",
      "description": "Build +layout.svelte with Navbar, main content area, and Footer. Create +layout.server.ts that passes auth state (locals.user) to the layout.",
      "spec": "specs/frontend-architecture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FA-004",
      "title": "Build Navbar component",
      "description": "Create Navbar.svelte with app title/logo, navigation links (Recipes, Search, Shopping List, Recommendations), and user menu (login/register or user dropdown with logout).",
      "spec": "specs/frontend-architecture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FA-005",
      "title": "Implement dark mode toggle and theme utility",
      "description": "Create $lib/utils/theme.ts with getTheme/setTheme functions (localStorage + prefers-color-scheme fallback). Add dark mode toggle to Navbar.",
      "spec": "specs/frontend-architecture.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FA-006",
      "title": "Create API client base and domain modules",
      "description": "Build $lib/api/client.ts with typed fetch wrapper (get, post, put, patch, delete) and error handling. Create $lib/api/recipes.ts and $lib/api/auth.ts domain modules.",
      "spec": "specs/frontend-architecture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FA-007",
      "title": "Create auth runes store",
      "description": "Build $lib/stores/auth.svelte.ts with runes-based current user state (setUser, getUser). Wire it to the root layout's auth data.",
      "spec": "specs/frontend-architecture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FA-008",
      "title": "Create global error page",
      "description": "Build src/routes/+error.svelte displaying the error status code, message, and a link to go home. Style with Tailwind.",
      "spec": "specs/frontend-architecture.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FA-009",
      "title": "Create shared UI components (LoadingSpinner, EmptyState, ErrorBanner, Pagination)",
      "description": "Build reusable shared components in $lib/components/shared/: LoadingSpinner, EmptyState (icon + message + optional action), ErrorBanner (dismissible error), Pagination (page controls).",
      "spec": "specs/frontend-architecture.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FA-010",
      "title": "Set up frontend route skeleton with placeholder pages",
      "description": "Create the route directory structure for all pages (recipes, recipes/new, recipes/import, recipes/ocr, recipes/[slug], recipes/[slug]/edit, search, shopping-list, recommendations, auth/login, auth/register) with minimal placeholder +page.svelte files.",
      "spec": "specs/frontend-architecture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FA-011",
      "title": "Implement auth guard pattern for protected routes",
      "description": "Add +page.server.ts load functions to protected routes (recipes/new, recipes/import, recipes/ocr, recipes/[slug]/edit, shopping-list, recommendations) that redirect to /auth/login if locals.user is not set.",
      "spec": "specs/frontend-architecture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FA-012",
      "title": "Write tests for frontend architecture utilities",
      "description": "Test API client (success and error responses), theme utility (getTheme/setTheme), and auth store (setUser/getUser).",
      "spec": "specs/frontend-architecture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "UC-001",
      "title": "Add semantic color tokens to app.css",
      "description": "Add success, warning, and info color tokens to the @theme block in src/app.css alongside the existing palette.",
      "spec": "specs/ui-components.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "UC-002",
      "title": "Install additional shadcn-svelte components",
      "description": "Install Checkbox, Switch, Tabs, and Tooltip shadcn-svelte components via CLI into $lib/components/ui/.",
      "spec": "specs/ui-components.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "UC-003",
      "title": "Install and configure lucide-svelte icon library",
      "description": "Add lucide-svelte dependency and verify tree-shaking works for individual icon imports.",
      "spec": "specs/ui-components.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "UC-004",
      "title": "Build RecipeCard component",
      "description": "Create RecipeCard.svelte displaying image thumbnail, title, difficulty badge, time display, and tag badges with responsive sizing (min 280px, 16:9 image).",
      "spec": "specs/ui-components.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "UC-005",
      "title": "Build RecipeHeader component",
      "description": "Create RecipeHeader.svelte with recipe title, source attribution, difficulty badge, time breakdown, servings with scaling, full tag list, and owner action buttons (edit/delete).",
      "spec": "specs/ui-components.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "UC-006",
      "title": "Build IngredientList and InstructionSteps components",
      "description": "Create IngredientList.svelte with checkbox items and scaling support, and InstructionSteps.svelte with numbered step rendering.",
      "spec": "specs/ui-components.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "UC-007",
      "title": "Build ScalingControl component",
      "description": "Create ScalingControl.svelte with increment/decrement buttons, current serving display, and reset button. Enforce min 1, max 100 constraints.",
      "spec": "specs/ui-components.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "UC-008",
      "title": "Build TagBadgeList component with group color mapping",
      "description": "Create TagBadgeList.svelte rendering color-coded tag badges by group (cuisine=blue, meal=green, diet=purple, technique=orange, custom=secondary) with optional truncation and click handler.",
      "spec": "specs/ui-components.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "UC-009",
      "title": "Build SearchBar component",
      "description": "Create SearchBar.svelte with debounced input (300ms), search icon, clear button, and Enter-to-submit behavior.",
      "spec": "specs/ui-components.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "UC-010",
      "title": "Build TagFilter component",
      "description": "Create TagFilter.svelte with collapsible tag group sections, three-state toggle (include/exclude/clear) per tag, usage counts, and a clear-all button.",
      "spec": "specs/ui-components.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "UC-011",
      "title": "Build SearchResults component",
      "description": "Create SearchResults.svelte with responsive RecipeCard grid (1/2/3/4 columns), results count header, empty state, and skeleton loading state.",
      "spec": "specs/ui-components.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "UC-012",
      "title": "Build ConfirmDialog component",
      "description": "Create ConfirmDialog.svelte wrapping shadcn Dialog with configurable title, description, confirm/cancel labels, and destructive variant support.",
      "spec": "specs/ui-components.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "UC-013",
      "title": "Implement mobile-responsive Navbar with hamburger menu",
      "description": "Extend Navbar.svelte with a mobile hamburger menu that collapses nav links into a slide-out drawer on small screens.",
      "spec": "specs/ui-components.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "UC-014",
      "title": "Write tests for custom UI components",
      "description": "Test RecipeCard rendering, ScalingControl constraints, TagBadgeList truncation, SearchBar debounce, TagFilter state toggling, Pagination bounds, and ConfirmDialog interactions.",
      "spec": "specs/ui-components.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RE-001",
      "title": "Build RecipeEditor orchestrator component",
      "description": "Create RecipeEditor.svelte that composes the full editor form: title, author, difficulty, time fields, servings, tags, and Markdown body. Handle both create and edit modes with prop-driven initial state.",
      "spec": "specs/recipe-editor.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RE-002",
      "title": "Build DurationInput component",
      "description": "Create DurationInput.svelte with hours (0–99) and minutes (0–59) numeric inputs that store/parse ISO 8601 durations (e.g., PT30M). Show auto-calculated totalTime as read-only when both prep and cook are filled.",
      "spec": "specs/recipe-editor.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RE-003",
      "title": "Build TagInput component with autocomplete",
      "description": "Create TagInput.svelte with per-group tag entry, chip display with removal, autocomplete from GET /api/v1/tags/:group, input validation (lowercase, hyphenated, max 50 chars), and 20-tag-per-group limit.",
      "spec": "specs/recipe-editor.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RE-004",
      "title": "Build MarkdownEditor component with toolbar",
      "description": "Create MarkdownEditor.svelte with monospace textarea (min 400px height, resizable), line numbers gutter, and MarkdownToolbar.svelte with formatting shortcuts (bold, italic, heading, lists, link).",
      "spec": "specs/recipe-editor.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RE-005",
      "title": "Implement Markdown body template for new recipes",
      "description": "Pre-populate the Markdown editor with the starter template (## Ingredients, ## Instructions, ## Notes sections) when creating a new recipe.",
      "spec": "specs/recipe-editor.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "RE-006",
      "title": "Build RecipePreview live preview panel",
      "description": "Create RecipePreview.svelte that renders the current form state using RecipeHeader, IngredientList, and InstructionSteps components. Debounce Markdown rendering by 300ms. Make the panel collapsible on desktop and tab-based on mobile.",
      "spec": "specs/recipe-editor.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RE-007",
      "title": "Implement client-side form validation",
      "description": "Add validation on blur and on save: title required (1–200 chars), servings positive integer, valid tag format, body must contain ## Ingredients and ## Instructions with at least one list item each, body max 50,000 chars. Display inline errors with scroll-to-first-error on save.",
      "spec": "specs/recipe-editor.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RE-008",
      "title": "Implement create recipe save flow",
      "description": "Wire the Save button to POST /api/v1/recipes with assembled form data and source.type='manual'. Handle success (toast + redirect to /recipes/[slug]), validation errors (inline display), and network errors (error toast).",
      "spec": "specs/recipe-editor.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RE-009",
      "title": "Implement edit recipe load and save flow",
      "description": "Load existing recipe data into the form on /recipes/[slug]/edit. Wire Save to PUT /api/v1/recipes/:slug. Handle 404, auth errors, and validation errors. Pre-fill all fields from the existing recipe.",
      "spec": "specs/recipe-editor.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RE-010",
      "title": "Implement unsaved changes guard",
      "description": "Track dirty state across all form fields. Use SvelteKit's beforeNavigate to show a ConfirmDialog ('Unsaved changes — Leave or Stay?') when navigating away with unsaved changes.",
      "spec": "specs/recipe-editor.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "RE-011",
      "title": "Implement keyboard shortcuts for editor",
      "description": "Register Ctrl/Cmd+S (save), Ctrl/Cmd+P (toggle preview), and Escape (close preview) shortcuts. Prevent browser defaults for these key combos.",
      "spec": "specs/recipe-editor.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "RE-012",
      "title": "Implement responsive editor layout",
      "description": "Build the two-column layout (60/40 editor/preview) for desktop, single-column with tab toggle for tablet, and edit-only with preview tab for mobile. Handle preview panel collapse/expand.",
      "spec": "specs/recipe-editor.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RE-013",
      "title": "Write tests for recipe editor components",
      "description": "Test DurationInput ISO 8601 parsing, TagInput validation and autocomplete, MarkdownEditor toolbar actions, form validation (valid and invalid cases), unsaved changes guard, save flow (create and edit), and server error mapping.",
      "spec": "specs/recipe-editor.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RV-001",
      "title": "Build recipe viewer page with data loading",
      "description": "Create +page.server.ts that fetches the recipe by slug via GET /api/v1/recipes/:slug and passes the full recipe object plus isOwner flag. Create +page.svelte composing RecipeHeader, IngredientList, InstructionSteps, and Notes sections.",
      "spec": "specs/recipe-viewer.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RV-002",
      "title": "Implement ingredient scaling state and URL persistence",
      "description": "Add currentServings rune initialized from recipe.servings.default, synced to ?servings=N query parameter via replaceState. Wire ScalingControl to update currentServings and re-scale ingredient quantities.",
      "spec": "specs/recipe-viewer.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RV-003",
      "title": "Implement ingredient checkbox interaction",
      "description": "Add local-only checkbox state to each ingredient item. Checked items get strikethrough styling (line-through opacity-50). State is not persisted across page loads.",
      "spec": "specs/recipe-viewer.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "RV-004",
      "title": "Render Notes section from Markdown body",
      "description": "Parse and render the ## Notes section from the recipe Markdown body. Show with a divider and heading if present, collapse by default on mobile.",
      "spec": "specs/recipe-viewer.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "RV-005",
      "title": "Build RecipeActionBar component",
      "description": "Create RecipeActionBar.svelte with Print, Share, Add to Shopping List buttons for all users, plus Edit and Delete buttons for owners. Wire navigation and API calls.",
      "spec": "specs/recipe-viewer.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RV-006",
      "title": "Implement delete flow with confirmation dialog",
      "description": "Wire the Delete button to open a ConfirmDialog, then call DELETE /api/v1/recipes/:slug on confirm. Show success toast and redirect to /recipes, or error toast on failure.",
      "spec": "specs/recipe-viewer.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RV-007",
      "title": "Implement print view styles",
      "description": "Add @media print CSS rules: hide Navbar, Footer, ActionBar, ScalingControl, checkboxes, tags. Use serif font, 12pt, single column. Avoid page breaks inside instruction steps.",
      "spec": "specs/recipe-viewer.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "RV-008",
      "title": "Implement share functionality",
      "description": "Add clipboard copy via navigator.clipboard.writeText() with toast confirmation. On mobile devices supporting navigator.share(), use native share sheet instead.",
      "spec": "specs/recipe-viewer.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "RV-009",
      "title": "Implement responsive layout for recipe viewer",
      "description": "Build the two-column layout (35% ingredients, 65% instructions) for desktop with sticky ingredients sidebar. Stack vertically on tablet/mobile with collapsible ingredients section.",
      "spec": "specs/recipe-viewer.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RV-010",
      "title": "Write tests for recipe viewer",
      "description": "Test recipe data loading, ingredient scaling math and display, checkbox toggling, print style visibility, share/clipboard behavior, delete flow, responsive layout breakpoints, and accessibility (labels, skip links).",
      "spec": "specs/recipe-viewer.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SU-001",
      "title": "Build search page with data loading",
      "description": "Create +page.server.ts that reads query params (q, include, exclude, sort, page, pageSize) and fetches results from the appropriate API endpoint. Create +page.svelte composing SearchBar, TagFilter, SearchResults, and Pagination.",
      "spec": "specs/search-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SU-002",
      "title": "Implement URL-driven search state management",
      "description": "Persist all search/filter state in URL query parameters. Initialize UI controls from URL params on load. Use replaceState for filter/sort changes, pushState for pagination. Ensure browser back/forward works correctly.",
      "spec": "specs/search-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SU-003",
      "title": "Build SortSelect component",
      "description": "Create SortSelect.svelte using shadcn-svelte Select with options: Newest, Oldest, Title A–Z, Title Z–A, Recently Updated. Default to Newest (-createdAt). Update ?sort= query param on change.",
      "spec": "specs/search-ui.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "SU-004",
      "title": "Integrate TagFilter with API and URL state",
      "description": "Fetch available tags from GET /api/v1/tags on mount. Wire three-state tag toggles (default/include/exclude) to update ?include= and ?exclude= query params. Show usage counts per tag. Reset to page 1 on filter change.",
      "spec": "specs/search-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SU-005",
      "title": "Build ActiveFilters chip bar",
      "description": "Create ActiveFilters.svelte showing removable chips for each active include/exclude filter. Include filters use default badge styling, exclude filters use destructive/red styling. Add a Clear All button.",
      "spec": "specs/search-ui.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "SU-006",
      "title": "Build FilterDrawer for mobile",
      "description": "Create FilterDrawer.svelte as a slide-out panel containing TagFilter and SortSelect for tablet/mobile. Toggle via a Filters button with active filter count badge. Close with Escape key or overlay click.",
      "spec": "specs/search-ui.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "SU-007",
      "title": "Implement query composition logic",
      "description": "Compose the correct API request from combined search text, tag filters, sort, and pagination params. When both q and tag filters are present, send a combined request to /api/v1/recipes/query with the q parameter.",
      "spec": "specs/search-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SU-008",
      "title": "Implement loading, empty, and error states",
      "description": "Show skeleton card grids during loading, EmptyState components for no-results scenarios (no recipes, no matches, filters too restrictive), and ErrorBanner for API/network failures with retry.",
      "spec": "specs/search-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SU-009",
      "title": "Implement responsive search layout",
      "description": "Build the desktop sidebar layout (260px fixed + fluid grid), tablet drawer layout (2-column grid), and mobile layout (1-column grid with simplified pagination). Handle grid column breakpoints at 768px, 1024px, and 1440px.",
      "spec": "specs/search-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SU-010",
      "title": "Write tests for search UI",
      "description": "Test URL state round-tripping, query composition from combined inputs, tag filter toggle states, debounced search, pagination controls, empty/error state rendering, active filter chip removal, and accessibility (aria-live, keyboard nav).",
      "spec": "specs/search-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "IF-001",
      "title": "Build UrlInput component with client-side validation",
      "description": "Create UrlInput.svelte with a full-width text input, submit button, auto-focus, and client-side validation (non-empty, starts with http(s)://, max 2048 chars). Display inline validation errors.",
      "spec": "specs/import-flow.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "IF-002",
      "title": "Build ImportProgress loading state component",
      "description": "Create ImportProgress.svelte with spinner, status message, domain display extracted from URL, indeterminate progress bar, Cancel button wired to AbortController, and reassurance message after 5 seconds.",
      "spec": "specs/import-flow.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "IF-003",
      "title": "Build ImportError component with error message mapping",
      "description": "Create ImportError.svelte that maps API error codes (INVALID_IMPORT_URL, IMPORT_FETCH_FAILED, IMPORT_NO_RECIPE_FOUND, etc.) to user-friendly messages. Include 'Try Another URL' and 'Create Manually' action buttons.",
      "spec": "specs/import-flow.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "IF-004",
      "title": "Build ConfidenceIndicator component",
      "description": "Create ConfidenceIndicator.svelte that wraps form fields with an amber warning border and tooltip for fields extracted with low confidence. Use aria-describedby for accessibility.",
      "spec": "specs/import-flow.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "IF-005",
      "title": "Build ImportWarnings collapsible alert section",
      "description": "Create ImportWarnings.svelte that renders import draft warnings (MISSING_TITLE, LOW_CONFIDENCE_FIELD, DUPLICATE_URL, etc.) as a collapsible alert list above the review form.",
      "spec": "specs/import-flow.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "IF-006",
      "title": "Build ImportReview component wrapping RecipeEditor",
      "description": "Create ImportReview.svelte that wraps RecipeEditor with import-specific additions: source banner showing origin URL and extraction method, confidence indicators on low-confidence fields, and read-only source.type/source.url fields.",
      "spec": "specs/import-flow.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "IF-007",
      "title": "Implement import flow page with step state machine",
      "description": "Create +page.svelte for /recipes/import with runes-based step state (input → loading → review/error). Wire UrlInput submission to POST /api/v1/recipes/import, handle success (show ImportReview) and failure (show ImportError). Implement AbortController for cancellation.",
      "spec": "specs/import-flow.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "IF-008",
      "title": "Implement import save and discard flows",
      "description": "Wire Save button in ImportReview to POST /api/v1/recipes with source.type='import'. On success, show toast and redirect to /recipes/[slug]. Implement Discard button with ConfirmDialog if edits were made, returning to URL input step.",
      "spec": "specs/import-flow.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "IF-009",
      "title": "Add auth guard to import route",
      "description": "Create +page.server.ts for /recipes/import that redirects unauthenticated users to /auth/login.",
      "spec": "specs/import-flow.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "IF-010",
      "title": "Write tests for import flow",
      "description": "Test URL validation (empty, invalid scheme, too long), loading state (cancel button, timeout message), error display for each error code, confidence indicator rendering, warning list display, save flow (success + error), discard flow with dirty check, and accessibility (aria-live, role=alert).",
      "spec": "specs/import-flow.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OF-001",
      "title": "Build ImageUpload component with drag-and-drop and camera capture",
      "description": "Create ImageUpload.svelte with file picker (JPEG/PNG/WebP/HEIC), drag-and-drop zone with visual feedback, and camera capture button using <input capture=\"environment\">. Client-side validation for file type and 10 MB size limit.",
      "spec": "specs/ocr-flow.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OF-002",
      "title": "Build ImagePreview component",
      "description": "Create ImagePreview.svelte showing a thumbnail of the selected image (max 300px wide), file name/size display, and a Remove button. Use URL.createObjectURL() with proper cleanup on unmount.",
      "spec": "specs/ocr-flow.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OF-003",
      "title": "Build LanguageSelect component",
      "description": "Create LanguageSelect.svelte dropdown for OCR language selection. Default to English (eng), support French, German, Spanish, Italian, Japanese, and bilingual combinations.",
      "spec": "specs/ocr-flow.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "OF-004",
      "title": "Build OcrProgress loading state component",
      "description": "Create OcrProgress.svelte with spinner, status message, indeterminate progress bar, selected image thumbnail, Cancel button wired to AbortController, and reassurance message after 10 seconds.",
      "spec": "specs/ocr-flow.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OF-005",
      "title": "Build OcrError component with error message mapping",
      "description": "Create OcrError.svelte that maps OCR API error codes (OCR_NO_IMAGE, OCR_NO_TEXT, OCR_LOW_CONFIDENCE, etc.) to user-friendly messages. Include 'Try Another Image' and 'Create Manually' action buttons.",
      "spec": "specs/ocr-flow.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OF-006",
      "title": "Build OcrConfidenceBanner component",
      "description": "Create OcrConfidenceBanner.svelte displaying overall OCR confidence as a color-coded banner: green (high, >=70), amber (medium, 50-69), red (low, <50) with guidance text.",
      "spec": "specs/ocr-flow.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OF-007",
      "title": "Build RawTextPanel collapsible component",
      "description": "Create RawTextPanel.svelte as a collapsible section showing the full raw OCR text output for user reference. Labeled 'View raw OCR text', collapsed by default.",
      "spec": "specs/ocr-flow.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "OF-008",
      "title": "Build OcrWarnings and ConfidenceIndicator components",
      "description": "Create OcrWarnings.svelte rendering OCR draft warnings as a collapsible alert list. Create ConfidenceIndicator.svelte wrapping fields with amber warning border and tooltip for low-confidence sections.",
      "spec": "specs/ocr-flow.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "OF-009",
      "title": "Build AttestationModal component",
      "description": "Create AttestationModal.svelte with rights attestation dialog: radio buttons for attestation type (personal_use, public_domain, own_recipe, permission_granted), Save Recipe button disabled until selection, focus trap, and Escape to dismiss.",
      "spec": "specs/ocr-flow.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OF-010",
      "title": "Build OcrReview component wrapping RecipeEditor",
      "description": "Create OcrReview.svelte that wraps RecipeEditor with OCR-specific additions: OcrConfidenceBanner, RawTextPanel, ConfidenceIndicators on low-confidence fields, OcrWarnings, and read-only source.type field.",
      "spec": "specs/ocr-flow.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OF-011",
      "title": "Implement OCR flow page with step state machine",
      "description": "Create +page.svelte for /recipes/ocr with runes-based step state (upload -> processing -> review/error). Wire image upload to POST /api/v1/recipes/ocr via multipart/form-data, handle success (show OcrReview) and failure (show OcrError). Implement AbortController for cancellation.",
      "spec": "specs/ocr-flow.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OF-012",
      "title": "Implement save flow with attestation and discard flow",
      "description": "Wire Save button to open AttestationModal, then POST /api/v1/recipes with source.type='ocr' and attestation data. On success, toast and redirect to /recipes/[slug]. Implement Discard button with ConfirmDialog if edits were made.",
      "spec": "specs/ocr-flow.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OF-013",
      "title": "Add auth guard to OCR route",
      "description": "Create +page.server.ts for /recipes/ocr that redirects unauthenticated users to /auth/login.",
      "spec": "specs/ocr-flow.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "OF-014",
      "title": "Write tests for OCR flow",
      "description": "Test image upload validation (type, size, empty), drag-and-drop interaction, camera capture button visibility, processing state (cancel button, timeout message), error display for each error code, confidence banner levels, raw text panel toggle, attestation modal (radio selection, disabled save), save flow with attestation, discard flow with dirty check, and accessibility (aria-live, focus trap, role=alert).",
      "spec": "specs/ocr-flow.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SLU-001",
      "title": "Build RecipePicker component with search autocomplete",
      "description": "Create RecipePicker.svelte with debounced search input (300ms) querying GET /api/v1/recipes, dropdown results with title/difficulty/servings, click-to-add, duplicate prevention, and 20-recipe limit enforcement.",
      "spec": "specs/shopping-list-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SLU-002",
      "title": "Build SelectedRecipeCard component",
      "description": "Create SelectedRecipeCard.svelte displaying recipe title, remove button, ScalingControl for servings adjustment, default servings label, and disabled increment/decrement at 0.25x-10x scaling limits.",
      "spec": "specs/shopping-list-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SLU-003",
      "title": "Build ShoppingListView component",
      "description": "Create ShoppingListView.svelte rendering the combined shopping list with header (recipe count, item count), checkable items, checked count display, Uncheck All button, and source recipes reference section.",
      "spec": "specs/shopping-list-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SLU-004",
      "title": "Build ShoppingListItem component with check-off interaction",
      "description": "Create ShoppingListItem.svelte with native checkbox, formatted quantity/unit, ingredient name, source recipe list, line-through/opacity styling when checked, and move-to-bottom behavior for checked items.",
      "spec": "specs/shopping-list-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SLU-005",
      "title": "Build RecipeSummaryBar collapsed view",
      "description": "Create RecipeSummaryBar.svelte showing collapsed recipe selection summary after list generation with recipe count, Edit Recipes toggle to expand selection panel.",
      "spec": "specs/shopping-list-ui.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "SLU-006",
      "title": "Implement shopping list page with step state machine",
      "description": "Create +page.svelte for /shopping-list with runes-based step state (select -> loading -> list). Wire Generate button to POST /api/v1/shopping-list, handle success (show ShoppingListView) and errors (toast messages).",
      "spec": "specs/shopping-list-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SLU-007",
      "title": "Implement print view for shopping list",
      "description": "Add @media print CSS rules to ShoppingListView: hide Navbar, Footer, action buttons, checked items. Include list title with date and source recipes section. Trigger via window.print().",
      "spec": "specs/shopping-list-ui.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "SLU-008",
      "title": "Implement clear and edit-recipes flows",
      "description": "Wire Clear button with ConfirmDialog when items are checked. Implement Edit Recipes toggle that re-expands recipe selection panel and triggers list regeneration on changes, resetting check state.",
      "spec": "specs/shopping-list-ui.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "SLU-009",
      "title": "Implement responsive layout for shopping list page",
      "description": "Build desktop two-column layout (320px sidebar + fluid list), tablet stacked layout with collapsible selection, and mobile single-column layout with larger touch targets and tap-to-show sources.",
      "spec": "specs/shopping-list-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SLU-010",
      "title": "Add auth guard to shopping list route",
      "description": "Create +page.server.ts for /shopping-list that redirects unauthenticated users to /auth/login.",
      "spec": "specs/shopping-list-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "SLU-011",
      "title": "Write tests for shopping list UI",
      "description": "Test recipe search debounce and autocomplete, duplicate recipe prevention, scaling control limits, Generate button disabled state, shopping list item check-off and sorting, Uncheck All, clear flow with confirm dialog, edit-recipes regeneration, print view visibility, error handling (toast messages), and accessibility (aria-live, role=listbox, keyboard nav).",
      "spec": "specs/shopping-list-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RU-001",
      "title": "Build recommendations page with initial data loading",
      "description": "Create +page.server.ts with auth guard and initial recommendation fetch via GET /api/v1/recommendations. Create +page.svelte composing MoodInput, RecommendationFilters, RecommendationCard grid, and Load More button.",
      "spec": "specs/recommendations-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RU-002",
      "title": "Build MoodInput component",
      "description": "Create MoodInput.svelte with text input (placeholder: 'What are you looking for?'), 200-char max with character counter, Go submit button, Enter-to-submit, and clear (×) button. Submitting re-fetches recommendations with mood parameter.",
      "spec": "specs/recommendations-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RU-003",
      "title": "Build RecommendationFilters component",
      "description": "Create RecommendationFilters.svelte with Difficulty select (Any/Easy/Medium/Hard), Max Time select (Any/15m/30m/1h/2h mapped to ISO 8601), and Exclude Owned checkbox. Filter changes trigger re-fetch.",
      "spec": "specs/recommendations-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RU-004",
      "title": "Build RecommendationCard component",
      "description": "Create RecommendationCard.svelte extending RecipeCard with reason text displayed in muted style below tags and a score tooltip on hover. Card links to /recipes/{slug}.",
      "spec": "specs/recommendations-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RU-005",
      "title": "Implement Load More pagination",
      "description": "Add Load More button that fetches the next page of recommendations and appends to the existing list. Track hasMore state to hide button when no more results. Announce new result count via aria-live.",
      "spec": "specs/recommendations-ui.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "RU-006",
      "title": "Build PreferencesPanel component",
      "description": "Create PreferencesPanel.svelte as a slide-out panel (desktop) or full-screen modal (mobile) with TagProfileSummary, boost/suppression tag lists with add/remove, 20-preference limit enforcement, and Save button wired to PUT /api/v1/recommendations/preferences.",
      "spec": "specs/recommendations-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RU-007",
      "title": "Build TagProfileSummary component",
      "description": "Create TagProfileSummary.svelte that fetches GET /api/v1/recommendations/profile and displays the user's top 5 tag frequencies with percentages as a summary line.",
      "spec": "specs/recommendations-ui.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "RU-008",
      "title": "Build PreferenceTagInput component",
      "description": "Create PreferenceTagInput.svelte with autocomplete querying GET /api/v1/tags, group:value selection, duplicate and contradiction prevention (toast if tag already in opposite list), and disabled state at 20 total preferences.",
      "spec": "specs/recommendations-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RU-009",
      "title": "Build ColdStartBanner component",
      "description": "Create ColdStartBanner.svelte displaying a prompt for new users: 'Save a few recipes or set preferences to get personalized recommendations.' Show suggested boost tags from popular tag groups. Uses role=status for screen readers.",
      "spec": "specs/recommendations-ui.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "RU-010",
      "title": "Implement empty, loading, and error states",
      "description": "Show skeleton card grids during loading, EmptyState for no-recipes/no-matches/filter-too-restrictive scenarios, cold start banner for new users, and ErrorBanner with Retry for API failures.",
      "spec": "specs/recommendations-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RU-011",
      "title": "Implement responsive layout for recommendations page",
      "description": "Build desktop 4-column card grid with 400px side preferences panel, tablet 2-column grid with modal preferences, and mobile 1-column grid with full-screen preferences and stacked filters.",
      "spec": "specs/recommendations-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RU-012",
      "title": "Write tests for recommendations UI",
      "description": "Test initial feed loading, mood input submission and clear, filter changes triggering re-fetch, Load More appending results, preferences panel open/close, boost/suppression add/remove/save, contradiction prevention, cold start banner display, empty/error states, and accessibility (aria-live, focus trap, keyboard nav).",
      "spec": "specs/recommendations-ui.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "MOB-001",
      "title": "Create PWA manifest and icon set",
      "description": "Create static/manifest.json with app name, theme color, display mode, and icon references. Generate icon-192, icon-512, and icon-maskable-512 PNG files in static/icons/.",
      "spec": "specs/mobile-strategy.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "MOB-002",
      "title": "Set up service worker with @vite-pwa/sveltekit",
      "description": "Install and configure @vite-pwa/sveltekit. Set up precaching for app shell assets and runtime caching strategies: network-first for API responses (24h), cache-first for images (7d) and static assets (30d).",
      "spec": "specs/mobile-strategy.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "MOB-003",
      "title": "Implement offline shopping list with IndexedDB",
      "description": "Persist the current shopping list and check-off state to IndexedDB after generation. Enable full shopping list functionality without network. Sync state on reconnect.",
      "spec": "specs/mobile-strategy.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "MOB-004",
      "title": "Implement offline indicator banner",
      "description": "Show a dismissible banner when navigator.onLine is false. Listen to online/offline window events and auto-hide on reconnect.",
      "spec": "specs/mobile-strategy.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "MOB-005",
      "title": "Implement background sync for queued saves",
      "description": "Queue failed recipe save requests in IndexedDB. On reconnect, replay queued requests using the Background Sync API. Show toast on successful sync. Limit queue to 10 pending operations.",
      "spec": "specs/mobile-strategy.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "MOB-006",
      "title": "Build bottom navigation bar for mobile",
      "description": "Create a fixed bottom navigation bar visible on mobile (<768px) with icon+label items for Recipes, Search, Shopping List, and OCR. Highlight active route. Handle safe area insets for notched devices.",
      "spec": "specs/mobile-strategy.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "MOB-007",
      "title": "Add viewport meta tags and safe area CSS",
      "description": "Add viewport-fit=cover, apple-mobile-web-app-capable, and status-bar-style meta tags to app.html. Add env(safe-area-inset-*) CSS rules for bottom nav and page content.",
      "spec": "specs/mobile-strategy.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "MOB-008",
      "title": "Implement A2HS install prompt",
      "description": "Listen for beforeinstallprompt event, show a custom install banner after 3+ page visits. Persist dismissal in localStorage for 30 days. Show manual iOS instructions when beforeinstallprompt is unavailable.",
      "spec": "specs/mobile-strategy.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "MOB-009",
      "title": "Audit and enforce touch target sizing",
      "description": "Audit all interactive elements for 44x44px minimum touch targets per WCAG 2.5.8. Ensure 8px minimum spacing between interactive elements. Fix any non-compliant buttons, checkboxes, and links.",
      "spec": "specs/mobile-strategy.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "MOB-010",
      "title": "Add responsive images with srcset",
      "description": "Add srcset attributes with 320w, 640w, and 960w image sizes to recipe images. Add loading=lazy and decoding=async attributes for performance.",
      "spec": "specs/mobile-strategy.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "MOB-011",
      "title": "Write tests for mobile and PWA features",
      "description": "Test PWA install flow, offline recipe viewing after caching, offline shopping list check-off, camera capture for OCR, bottom navigation routing, touch target compliance, safe area rendering, background sync, and Lighthouse performance budget.",
      "spec": "specs/mobile-strategy.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DEP-001",
      "title": "Configure svelte-adapter-deno in svelte.config.js",
      "description": "Install svelte-adapter-deno and configure it in svelte.config.js to output a Deno Deploy-compatible build to the build/ directory.",
      "spec": "specs/deployment.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DEP-002",
      "title": "Create .env.example with all required variables",
      "description": "Create .env.example listing DATABASE_URL, SESSION_SECRET, OCR_API_KEY, PUBLIC_BASE_URL, and NODE_ENV with placeholder values. Ensure .env is in .gitignore.",
      "spec": "specs/deployment.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DEP-003",
      "title": "Create GitHub Actions CI/CD workflow",
      "description": "Create .github/workflows/deploy.yml with lint, type check, test, build, and deploy steps. Deploy only on push to main. Use denoland/setup-deno and denoland/deployctl actions.",
      "spec": "specs/deployment.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DEP-004",
      "title": "Add build and preview tasks to deno.json",
      "description": "Add dev, build, preview, and migrate:deploy tasks to deno.json using Vite and the migration script.",
      "spec": "specs/deployment.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DEP-005",
      "title": "Implement database migration runner script",
      "description": "Create src/lib/server/db/migrate.ts that connects to the database, acquires an advisory lock, runs pending migrations in order, and releases the lock.",
      "spec": "specs/deployment.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DEP-006",
      "title": "Implement health check endpoint",
      "description": "Create GET /api/v1/health endpoint that returns status, version, and timestamp. Verify database connectivity with a SELECT 1 query.",
      "spec": "specs/deployment.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DEP-007",
      "title": "Configure static asset caching headers",
      "description": "Set Cache-Control headers: immutable assets get max-age=31536000, other assets get max-age=3600. Configure in the server entry point or adapter config.",
      "spec": "specs/deployment.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "DEP-008",
      "title": "Add security headers middleware",
      "description": "Add Content-Security-Policy, X-Frame-Options: DENY, and CORS headers restricted to PUBLIC_BASE_URL origin. Configure in SvelteKit hooks.",
      "spec": "specs/deployment.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DEP-009",
      "title": "Configure preview deployments for pull requests",
      "description": "Set up Deno Deploy GitHub integration for automatic preview deployments on PRs with a shared staging database.",
      "spec": "specs/deployment.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "DEP-010",
      "title": "Write tests for deployment infrastructure",
      "description": "Test health check endpoint response, migration runner (lock acquisition, ordering, idempotency), environment variable validation on startup, and security headers presence.",
      "spec": "specs/deployment.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "TS-001",
      "title": "Configure Deno test runner for backend unit tests",
      "description": "Set up deno test tasks in deno.json (test, test:unit, test:integration, test:coverage). Create __tests__/ directory conventions and verify deno test runs successfully.",
      "spec": "specs/testing-strategy.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "TS-002",
      "title": "Set up Vitest and Testing Library for frontend components",
      "description": "Install and configure Vitest with @testing-library/svelte for SvelteKit component tests. Add vitest.config.ts with Svelte transform and jsdom environment.",
      "spec": "specs/testing-strategy.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "TS-003",
      "title": "Set up Playwright for E2E testing",
      "description": "Install Playwright, create playwright.config.ts with Chromium and Firefox projects, configure webServer to start dev server, set up screenshot-on-failure and retry policy.",
      "spec": "specs/testing-strategy.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "TS-004",
      "title": "Create shared test fixtures and factory functions",
      "description": "Create src/lib/test-fixtures/ with recipes.ts, users.ts, and ingredients.ts. Implement createMockRecipe, createMockUser, and createMockIngredient factory functions with sensible defaults and override support.",
      "spec": "specs/testing-strategy.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "TS-005",
      "title": "Set up test database utilities",
      "description": "Create setupTestDb and teardownTestDb helpers that initialize an in-memory SQLite database, run migrations, and provide table truncation between tests.",
      "spec": "specs/testing-strategy.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "TS-006",
      "title": "Create E2E seed data script",
      "description": "Build a seed script (deno task test:seed) that populates the test database with known users, recipes, and tags for E2E test runs.",
      "spec": "specs/testing-strategy.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "TS-007",
      "title": "Write E2E tests for critical user flows",
      "description": "Write Playwright tests covering: user registration/login, create recipe, import recipe from URL, search and filter, generate shopping list, and view recommendations.",
      "spec": "specs/testing-strategy.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "TS-008",
      "title": "Add test and coverage steps to CI pipeline",
      "description": "Update .github/workflows/deploy.yml to run unit tests, integration tests, E2E tests (post-build), and upload coverage report as an artifact. Configure coverage threshold warnings on PRs.",
      "spec": "specs/testing-strategy.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "EH-001",
      "title": "Define ApiError interface and error codes",
      "description": "Create the shared ApiError response interface and define all standard error codes (VALIDATION_ERROR, UNAUTHORIZED, FORBIDDEN, NOT_FOUND, CONFLICT, RATE_LIMITED, INTERNAL_ERROR, OCR_PROCESSING_FAILED, IMPORT_FETCH_FAILED, IMPORT_PARSE_FAILED) as constants.",
      "spec": "specs/error-handling.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "EH-002",
      "title": "Implement AppError class and apiError helper",
      "description": "Create AppError class extending Error with code, status, and details fields. Create apiError() helper that returns a JSON Response with the standard error shape.",
      "spec": "specs/error-handling.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "EH-003",
      "title": "Implement handleError server hook",
      "description": "Add handleError hook in src/hooks.server.ts that catches unexpected errors, generates a requestId, logs structured error data, and returns a safe error response to the client.",
      "spec": "specs/error-handling.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "EH-004",
      "title": "Build structured JSON logger",
      "description": "Create src/lib/server/logger.ts with debug/info/warn/error methods that output structured JSON log entries with timestamp, level, and arbitrary data fields.",
      "spec": "specs/error-handling.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "EH-005",
      "title": "Create client-side apiFetch wrapper",
      "description": "Implement apiFetch<T>() in src/lib/api.ts that wraps fetch, checks response.ok, parses error bodies into AppError instances, and throws on failure.",
      "spec": "specs/error-handling.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "EH-006",
      "title": "Create global and per-route error pages",
      "description": "Add root +error.svelte that displays status code, message, and a link home. Optionally add recipe-specific +error.svelte with contextual messaging.",
      "spec": "specs/error-handling.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "EH-007",
      "title": "Add toast notification system for transient errors",
      "description": "Implement toast notifications for non-fatal, recoverable errors (failed saves, network issues) with optional retry actions.",
      "spec": "specs/error-handling.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "EH-008",
      "title": "Write unit tests for error handling utilities",
      "description": "Test AppError construction, apiError response shape, apiFetch error parsing, and logger output format.",
      "spec": "specs/error-handling.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FTQ-001",
      "title": "Implement three-state tag toggle component",
      "description": "Build a tag toggle component with three states (unselected, included, excluded) with green/red visual indicators and accessible aria-labels.",
      "spec": "specs/feature-tag-query.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FTQ-002",
      "title": "Fetch and display available tags in filter sidebar",
      "description": "Fetch tags from GET /api/v1/tags on mount, display in collapsible accordion groups (cuisine, meal, diet, technique, custom) with usage counts.",
      "spec": "specs/feature-tag-query.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FTQ-003",
      "title": "Serialize tag filter state to URL query parameters",
      "description": "Sync include/exclude tag selections to ?include= and ?exclude= URL params. Reset to page 1 on filter change. Support browser back/forward navigation.",
      "spec": "specs/feature-tag-query.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FTQ-004",
      "title": "Build active filters chip bar",
      "description": "Display active include/exclude filters as removable chips between search bar and results. Include chips use default styling, exclude chips use red/destructive styling.",
      "spec": "specs/feature-tag-query.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FTQ-005",
      "title": "Implement clear-all and clear-individual filter actions",
      "description": "Add clear-all button to reset all tag filters. Add × button on each chip to remove a single filter. Both actions trigger re-query.",
      "spec": "specs/feature-tag-query.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FTQ-006",
      "title": "Implement debounce and request cancellation for rapid filter toggling",
      "description": "Cancel in-flight query requests when filters change rapidly. Ensure only the latest query result is displayed to prevent race conditions.",
      "spec": "specs/feature-tag-query.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FTQ-007",
      "title": "Handle tag query error states in UI",
      "description": "Display error banner for API failures, handle malformed URL params gracefully with 'Invalid filters' message and 'Clear filters' CTA.",
      "spec": "specs/feature-tag-query.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FTQ-008",
      "title": "Handle empty and zero-result states for tag queries",
      "description": "Show 'No recipes match these filters' with a 'Clear filters' CTA when tag query returns zero results. Handle tags with zero usage counts.",
      "spec": "specs/feature-tag-query.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FTQ-009",
      "title": "Combine text search with tag filters",
      "description": "When both search text (q) and tag filters are active, send combined request to /api/v1/recipes/query with q parameter. Preserve relevance ranking.",
      "spec": "specs/feature-tag-query.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FTQ-010",
      "title": "Write tests for tag query feature",
      "description": "Test three-state toggle cycling, URL serialization/deserialization, filter chip rendering, clear actions, combined search+filter queries, edge cases (contradictory tags, malformed params).",
      "spec": "specs/feature-tag-query.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FRI-001",
      "title": "Build URL input form with client-side validation",
      "description": "Create UrlInput.svelte component with auto-focus, HTTP(S) scheme validation, 2048-char limit, inline error display, and disabled state during loading.",
      "spec": "specs/feature-recipe-import.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FRI-002",
      "title": "Implement import loading/progress state",
      "description": "Create ImportProgress.svelte with spinner, domain display, cancel button via AbortController, and 5-second reassurance message.",
      "spec": "specs/feature-recipe-import.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FRI-003",
      "title": "Integrate RecipeEditor for import review step",
      "description": "Create ImportReview.svelte wrapping RecipeEditor with source banner, confidence indicators (amber borders for low-confidence fields), and read-only source fields.",
      "spec": "specs/feature-recipe-import.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FRI-004",
      "title": "Build import warnings display",
      "description": "Create ImportWarnings.svelte collapsible alert section showing extraction warnings (MISSING_TITLE, MISSING_INGREDIENTS, LOW_CONFIDENCE_FIELD, DUPLICATE_URL, etc.).",
      "spec": "specs/feature-recipe-import.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FRI-005",
      "title": "Build confidence indicator component",
      "description": "Create ConfidenceIndicator.svelte with amber warning border and aria-describedby tooltip for low-confidence extracted fields.",
      "spec": "specs/feature-recipe-import.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FRI-006",
      "title": "Implement import error state UI",
      "description": "Create ImportError.svelte with user-friendly error messages per error code, 'Try Another URL' (pre-filled), and 'Create Manually' navigation.",
      "spec": "specs/feature-recipe-import.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FRI-007",
      "title": "Wire up import page routing and state machine",
      "description": "Create /recipes/import route with +page.server.ts auth guard and +page.svelte managing the four-step state machine (input → loading → review/error).",
      "spec": "specs/feature-recipe-import.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FRI-008",
      "title": "Implement discard flow with confirmation dialog",
      "description": "Add Discard button to review step that shows a ConfirmDialog if edits were made, then resets to URL input step.",
      "spec": "specs/feature-recipe-import.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FRI-009",
      "title": "Implement save flow from import review",
      "description": "Wire Save button to POST /api/v1/recipes, handle success toast + redirect to /recipes/{slug}, validation errors inline, and network errors with retry.",
      "spec": "specs/feature-recipe-import.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FRI-010",
      "title": "Write tests for recipe import feature",
      "description": "Test URL validation, loading/cancel flow, review rendering with confidence indicators, warning display, discard confirmation, save success/error paths, and all error state mappings.",
      "spec": "specs/feature-recipe-import.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FOC-001",
      "title": "Build image upload component with file picker, camera, and drag-and-drop",
      "description": "Create the ImageUpload component supporting file picker, camera capture (rear camera via capture='environment'), and drag-and-drop. Include client-side validation for format (JPEG, PNG, WebP, HEIC) and size (10 MB max). Show thumbnail preview with remove button after selection.",
      "spec": "specs/feature-ocr-capture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FOC-002",
      "title": "Build OCR language selection dropdown",
      "description": "Create LanguageSelect component with support for English, French, German, Spanish, Italian, Japanese. Allow optional secondary language selection for bilingual recipes.",
      "spec": "specs/feature-ocr-capture.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FOC-003",
      "title": "Implement OCR processing state with cancel support",
      "description": "Build OcrProgress component with spinner, status message, reassurance message after 10 seconds, and Cancel button wired to AbortController. Disable upload area during processing.",
      "spec": "specs/feature-ocr-capture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FOC-004",
      "title": "Build OCR review page with confidence indicators and raw text panel",
      "description": "Create OcrReview component wrapping RecipeEditor with OCR-specific additions: confidence banner (green/amber/red), collapsible raw OCR text panel, amber warning borders on low-confidence sections, and collapsible warnings list.",
      "spec": "specs/feature-ocr-capture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FOC-005",
      "title": "Build rights attestation modal",
      "description": "Create AttestationModal component with four radio options (personal use, public domain, own recipe, permission granted), legal disclaimer text, and Save Recipe button disabled until selection. Set attestation fields on confirmation.",
      "spec": "specs/feature-ocr-capture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FOC-006",
      "title": "Wire up OCR page flow and state management",
      "description": "Implement the /recipes/ocr page with step-based state (upload, processing, review, error). Wire image upload to POST /api/v1/recipes/ocr, handle success/error transitions, and integrate all OCR sub-components.",
      "spec": "specs/feature-ocr-capture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FOC-007",
      "title": "Implement OCR error states with user-friendly messages",
      "description": "Build OcrError component mapping all OCR error codes to user-friendly messages. Include 'Try Another Image' and 'Create Manually' action buttons. Use role='alert' for accessibility.",
      "spec": "specs/feature-ocr-capture.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FOC-008",
      "title": "Implement discard flow with confirmation dialog",
      "description": "Add Discard button to review step that shows a ConfirmDialog if edits were made, then resets to upload step with image cleared.",
      "spec": "specs/feature-ocr-capture.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FOC-009",
      "title": "Implement save flow with attestation enforcement",
      "description": "Wire Save button to open attestation modal, then submit to POST /api/v1/recipes with source.type 'ocr' and attestation data. Handle success toast + redirect, validation errors inline, and network errors with retry.",
      "spec": "specs/feature-ocr-capture.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FOC-010",
      "title": "Write tests for OCR capture feature",
      "description": "Test image upload validation, processing/cancel flow, review rendering with confidence indicators, raw text panel, warning display, attestation modal flow, discard confirmation, save success/error paths, and all error state mappings.",
      "spec": "specs/feature-ocr-capture.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FRC-001",
      "title": "Build recommendation feed page with server-side data loading",
      "description": "Create /recommendations route with +page.server.ts auth guard and load function that fetches GET /api/v1/recommendations?limit=10. Render results as RecipeCards in a responsive grid (4/2/1 columns) with reason text and score tooltip.",
      "spec": "specs/feature-recommendations.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FRC-002",
      "title": "Implement mood input and filter controls",
      "description": "Add 'What are you looking for?' text input (200 char max with counter), difficulty dropdown (Any/Easy/Medium/Hard), max time dropdown (Any/15m/30m/1h/2h), and 'exclude owned' checkbox. Each control triggers a re-fetch replacing current results.",
      "spec": "specs/feature-recommendations.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FRC-003",
      "title": "Implement Load More and refresh button",
      "description": "Add Load More button that appends next page of results via client-side fetch with offset. Add refresh button that re-fetches with same parameters for new diversity-ranked set. Hide Load More when no more results. Cancel in-flight requests on new fetches.",
      "spec": "specs/feature-recommendations.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FRC-004",
      "title": "Build preferences panel with boost/suppress management",
      "description": "Create slide-out panel (desktop) / modal (mobile) with tag profile summary, boost/suppress tag lists with remove buttons, tag input with autocomplete, 20-preference limit with counter, and Save Preferences button calling PUT /api/v1/recommendations/preferences.",
      "spec": "specs/feature-recommendations.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FRC-005",
      "title": "Implement tag profile display in preferences panel",
      "description": "On preferences panel open, fetch GET /api/v1/recommendations/profile and display user's top 5 tags with frequency percentages. Show cold-start prompt with suggested boost tags for new users.",
      "spec": "specs/feature-recommendations.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FRC-006",
      "title": "Implement preference validation and conflict prevention",
      "description": "Prevent adding the same tag to both boosts and suppressions (show toast on conflict). Disable Add button at 20 total with tooltip. Validate before saving. Show success/error toasts on save.",
      "spec": "specs/feature-recommendations.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FRC-007",
      "title": "Implement cold-start and empty states",
      "description": "Handle all empty/loading/error states: no recipes in DB, new user cold start with popular recipes and banner, no results for filters with Clear Filters, loading skeleton grid, and error banner with Retry.",
      "spec": "specs/feature-recommendations.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FRC-008",
      "title": "Implement recommendation reason display and score tooltip",
      "description": "Extend RecipeCard with reason text in muted style below tags. Add score tooltip on hover showing raw relevance score. Link reason text via aria-describedby for accessibility.",
      "spec": "specs/feature-recommendations.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FRC-009",
      "title": "Implement request deduplication and abort handling",
      "description": "Ensure only one recommendation request is in flight at a time. Cancel pending requests via AbortController when new fetches are triggered by filter changes, mood submit, or refresh. Load More requests are replaced by filter changes.",
      "spec": "specs/feature-recommendations.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FRC-010",
      "title": "Write tests for recommendations feature",
      "description": "Test feed rendering, mood input submit/clear, filter changes triggering re-fetch, Load More pagination, refresh behavior, preferences panel open/close, boost/suppress add/remove/conflict, cold-start states, empty states, error states, and request cancellation.",
      "spec": "specs/feature-recommendations.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FSL-001",
      "title": "Build recipe search autocomplete for shopping list",
      "description": "Create recipe search input with 300ms debounce querying GET /api/v1/recipes, dropdown results display, click-to-add, duplicate prevention toast, and 20-recipe limit enforcement with disabled state.",
      "spec": "specs/feature-shopping-list.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FSL-002",
      "title": "Build selected recipe cards with per-recipe scaling",
      "description": "Display each selected recipe with title, remove button, and ScalingControl for servings adjustment. Enforce 0.25x–10x scaling limits relative to default servings.",
      "spec": "specs/feature-shopping-list.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FSL-003",
      "title": "Implement shopping list generation flow",
      "description": "Wire Generate button to POST /api/v1/shopping-list with selected recipe IDs and target servings. Handle success (display list), RECIPE_NOT_FOUND errors, and network errors with toast messages.",
      "spec": "specs/feature-shopping-list.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FSL-004",
      "title": "Build shopping list item display with source references",
      "description": "Render each shopping list item with checkbox, formatted quantity/unit, ingredient name, and source recipe references. Show raw line as fallback for unparseable ingredients. Display separate line items for incompatible units.",
      "spec": "specs/feature-shopping-list.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FSL-005",
      "title": "Implement check-off interaction and sorting",
      "description": "Add checkbox toggle per item with strikethrough/opacity styling when checked. Move checked items to bottom. Display checked count (e.g., '5 of 23 items checked'). Add Uncheck All button.",
      "spec": "specs/feature-shopping-list.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FSL-006",
      "title": "Implement edit-recipes and clear flows",
      "description": "Add Edit Recipes button to re-expand recipe selection with current selections preserved. Regenerating resets check state. Add Clear button with confirmation dialog when items are checked.",
      "spec": "specs/feature-shopping-list.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FSL-007",
      "title": "Implement print view for shopping list",
      "description": "Add Print button triggering window.print(). Print styles hide Navbar, Footer, action buttons, and checked items. Include title with date and source recipes section.",
      "spec": "specs/feature-shopping-list.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FSL-008",
      "title": "Implement clipboard copy and native share export",
      "description": "Add Copy to Clipboard button that formats the list as plain text (one item per line, with header and date). Show success toast. On mobile with navigator.share(), add Share button for native share sheet.",
      "spec": "specs/feature-shopping-list.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FSL-009",
      "title": "Implement responsive layout for shopping list feature",
      "description": "Build desktop two-column layout (320px recipe sidebar + fluid list), tablet stacked layout with collapsible selection, and mobile single-column with larger touch targets.",
      "spec": "specs/feature-shopping-list.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FSL-010",
      "title": "Write tests for shopping list feature",
      "description": "Test recipe search and add flow, duplicate prevention, scaling limits, list generation success/error, item check-off and sorting, uncheck all, edit-recipes regeneration, clear with confirmation, print view, clipboard copy, share button visibility, and accessibility (aria-live, role=list, keyboard nav).",
      "spec": "specs/feature-shopping-list.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FMP-001",
      "title": "Define MealPlan and MealPlanEntry TypeScript types",
      "description": "Create TypeScript interfaces for MealPlan and MealPlanEntry as defined in the spec: weekId, userId, entries array, day/slot enums, servings, timestamps.",
      "spec": "specs/feature-meal-planning.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FMP-002",
      "title": "Create meal plan database schema and migrations",
      "description": "Design and create the meal_plans and meal_plan_entries tables with appropriate indexes on userId+weekId. Add migration scripts.",
      "spec": "specs/feature-meal-planning.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FMP-003",
      "title": "Implement meal plan CRUD API endpoints",
      "description": "Build GET /api/v1/meal-plan/{weekId}, PUT /api/v1/meal-plan/{weekId}, PATCH /api/v1/meal-plan/{weekId}/entries/{entryId}, and DELETE /api/v1/meal-plan/{weekId} with auth, validation, and rate limiting.",
      "spec": "specs/feature-meal-planning.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FMP-004",
      "title": "Implement duplicate week API endpoint",
      "description": "Build POST /api/v1/meal-plan/{weekId}/duplicate that copies all entries to a target week. Validate targetWeekId is a valid ISO Monday date.",
      "spec": "specs/feature-meal-planning.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FMP-005",
      "title": "Build weekly calendar grid UI component",
      "description": "Create the 7-day calendar grid with Mon-Sun columns and Breakfast/Lunch/Dinner/Snack rows. Include week navigation arrows and date range header. Use role=grid for accessibility.",
      "spec": "specs/feature-meal-planning.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FMP-006",
      "title": "Implement recipe search popover for adding to cells",
      "description": "Build the '+' button in empty cells that opens a recipe search popover with autocomplete (debounced 300ms). Handle max 3 recipes per cell and duplicate prevention within a cell.",
      "spec": "specs/feature-meal-planning.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FMP-007",
      "title": "Implement drag-and-drop for meal plan entries",
      "description": "Add drag-and-drop support for moving recipes between cells. Handle full-cell rejection with visual feedback. Support touch devices via long-press. Provide keyboard arrow-key alternative.",
      "spec": "specs/feature-meal-planning.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FMP-008",
      "title": "Implement per-entry servings scaling",
      "description": "Add ScalingControl to each recipe in a cell for adjusting servings (0.25x-10x). Save changes immediately via PATCH endpoint.",
      "spec": "specs/feature-meal-planning.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FMP-009",
      "title": "Implement shopping list integration from meal plan",
      "description": "Add 'Generate Shopping List' button that collects all recipes and servings from the current week and navigates to /shopping-list with pre-populated query parameters. Disable when plan is empty.",
      "spec": "specs/feature-meal-planning.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FMP-010",
      "title": "Implement duplicate week and clear week flows",
      "description": "Build Duplicate Week button with target week date picker and overwrite confirmation. Build Clear button with confirmation dialog when plan has entries.",
      "spec": "specs/feature-meal-planning.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FMP-011",
      "title": "Write tests for meal planning feature",
      "description": "Test calendar rendering, recipe add/remove, drag-and-drop, servings scaling, shopping list generation, duplicate week, clear week, deleted recipe handling, auth redirect, and accessibility (grid roles, keyboard nav, aria-labels).",
      "spec": "specs/feature-meal-planning.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FC-001",
      "title": "Create Collection and CollectionEntry database tables",
      "description": "Add migration for collections table (id, userId, name, description, shareToken, createdAt, updatedAt) and collection_entries table (id, collectionId, recipeId, position, addedAt). Add indexes on userId and shareToken.",
      "spec": "specs/feature-collections.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FC-002",
      "title": "Define Collection TypeScript types",
      "description": "Create TypeScript interfaces for Collection and CollectionEntry matching the data model in the spec.",
      "spec": "specs/feature-collections.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FC-003",
      "title": "Implement collection CRUD API endpoints",
      "description": "Build GET /api/v1/collections (list, paginated), POST (create), GET /:id (detail with recipes), PATCH /:id (update name/description/sharing), DELETE /:id. All require auth and ownership checks.",
      "spec": "specs/feature-collections.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FC-004",
      "title": "Implement add/remove recipe endpoints for collections",
      "description": "Build POST /api/v1/collections/:id/recipes (add recipe, append to end) and DELETE /api/v1/collections/:id/recipes/:recipeId (remove). Handle duplicate add as no-op. Enforce 200 recipe cap.",
      "spec": "specs/feature-collections.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FC-005",
      "title": "Implement collection reorder endpoint",
      "description": "Build PATCH /api/v1/collections/:id/reorder accepting an ordered array of recipeIds. Update position values in collection_entries.",
      "spec": "specs/feature-collections.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FC-006",
      "title": "Implement share token generation and public collection endpoint",
      "description": "Generate cryptographically random 22-char base62 share tokens. Build GET /api/v1/collections/shared/:shareToken (no auth). Invalidate token when sharing is disabled.",
      "spec": "specs/feature-collections.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FC-007",
      "title": "Build collections list page UI",
      "description": "Create /collections page showing user's collections sorted by last updated. Each card shows name, recipe count, and thumbnail mosaic (up to 4 images). Add sort toggle for alphabetical.",
      "spec": "specs/feature-collections.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FC-008",
      "title": "Build collection detail page UI",
      "description": "Create /collections/:id page with inline-editable name, description, recipe list with drag-and-drop reorder, remove buttons with undo toast, and share toggle.",
      "spec": "specs/feature-collections.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FC-009",
      "title": "Build 'Add to Collection' popover on recipe pages",
      "description": "Add 'Add to Collection' button on recipe detail pages and recipe card overflow menus. Popover lists user's collections with checkboxes. Pre-check collections already containing the recipe. Handle empty state with 'Create New Collection' link.",
      "spec": "specs/feature-collections.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FC-010",
      "title": "Build shared collection read-only view",
      "description": "Create /collections/shared/:shareToken page showing collection in read-only mode. No edit controls, no auth required. Show 404 for invalid or disabled tokens.",
      "spec": "specs/feature-collections.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FC-011",
      "title": "Write tests for collections feature",
      "description": "Test CRUD operations, add/remove recipes, reorder, share token generation/invalidation, public link access, deleted recipe handling, duplicate add no-op, 200 recipe cap, auth and ownership checks, and accessibility (list roles, keyboard drag-and-drop, focus trapping).",
      "spec": "specs/feature-collections.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FUP-001",
      "title": "Create UserProfile database table and migration",
      "description": "Add migration for user_profiles table (userId, displayName, avatarUrl, dietaryPreferences JSON array, defaultServings, measurementPreference, createdAt, updatedAt). Add index on userId.",
      "spec": "specs/feature-user-profile.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FUP-002",
      "title": "Define UserProfile TypeScript types",
      "description": "Create TypeScript interface for UserProfile matching the data model in the spec, including the measurementPreference union type.",
      "spec": "specs/feature-user-profile.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FUP-003",
      "title": "Implement GET and PATCH /api/v1/profile endpoints",
      "description": "Build GET /api/v1/profile (return current user's profile) and PATCH /api/v1/profile (update displayName, dietaryPreferences, defaultServings, measurementPreference). Validate all fields per spec. Require auth.",
      "spec": "specs/feature-user-profile.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FUP-004",
      "title": "Implement avatar upload and deletion endpoints",
      "description": "Build POST /api/v1/profile/avatar (multipart/form-data upload, validate image type and size, resize to 256x256 WebP) and DELETE /api/v1/profile/avatar (revert to generated default). Rate limit to 10 uploads per hour.",
      "spec": "specs/feature-user-profile.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FUP-005",
      "title": "Implement default avatar generation",
      "description": "Generate a default avatar from the user's initials with a deterministic background color derived from the userId. Serve as SVG or pre-rendered PNG.",
      "spec": "specs/feature-user-profile.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FUP-006",
      "title": "Implement account settings endpoints (email, password, delete)",
      "description": "Build PATCH /api/v1/account/email (send verification to new email), PATCH /api/v1/account/password (require current password), DELETE /api/v1/account (require 'DELETE' confirmation string, async cleanup). Rate limit to 5 changes per hour.",
      "spec": "specs/feature-user-profile.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FUP-007",
      "title": "Build profile settings page UI",
      "description": "Create /settings/profile page with form fields for display name, avatar upload with preview and crop, dietary preference checkboxes grouped with aria-label, default servings input, and measurement preference radio group.",
      "spec": "specs/feature-user-profile.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FUP-008",
      "title": "Build account settings page UI",
      "description": "Create /settings/account page with email change form (shows verification notice), password change form (current + new password fields), and account deletion section with confirmation dialog requiring 'DELETE' input.",
      "spec": "specs/feature-user-profile.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "FUP-009",
      "title": "Integrate dietary preferences with search and recommendations",
      "description": "When dietary preferences are set, show 'Matches your diet' badge on compatible recipes in search results. Pass preferences to recommendation engine as a filtering signal.",
      "spec": "specs/feature-user-profile.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FUP-010",
      "title": "Integrate default servings with recipe viewer",
      "description": "When a user has default servings set, initialize the recipe viewer's serving scaler to the user's default instead of the recipe's original value.",
      "spec": "specs/feature-user-profile.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "FUP-011",
      "title": "Write tests for user profile feature",
      "description": "Test profile CRUD, avatar upload/delete/validation, dietary preference storage, default servings integration, measurement preference, email change with verification, password change requiring current password, account deletion with confirmation, rate limiting, and accessibility (label associations, grouped checkboxes, focus trapping).",
      "spec": "specs/feature-user-profile.md",
      "column": "backlog",
      "priority": "medium"
    }
  ]
}
