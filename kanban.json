{
  "columns": ["backlog", "in-progress", "review", "done"],
  "tasks": [
    {
      "id": "RDM-001",
      "title": "Define recipe TypeScript types from schema",
      "description": "Create TypeScript interfaces/types for the full recipe schema: Recipe, RecipeSource, RecipeTags, Servings, and related types.",
      "spec": "specs/recipe-data-model.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RDM-002",
      "title": "Implement ULID generation for recipe IDs",
      "description": "Add ULID dependency and create a utility for generating recipe IDs.",
      "spec": "specs/recipe-data-model.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RDM-003",
      "title": "Build YAML frontmatter parser",
      "description": "Parse Markdown files with YAML frontmatter into structured Recipe objects. Handle the frontmatter/body split.",
      "spec": "specs/recipe-data-model.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RDM-004",
      "title": "Build YAML frontmatter serializer",
      "description": "Serialize a Recipe object back into a Markdown file with YAML frontmatter.",
      "spec": "specs/recipe-data-model.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RDM-005",
      "title": "Implement frontmatter validation",
      "description": "Validate all frontmatter fields per spec: ULID format, title length, slug format, servings positivity, ISO 8601 durations, difficulty enum, source.type enum, tag format regex.",
      "spec": "specs/recipe-data-model.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RDM-006",
      "title": "Implement Markdown body validation",
      "description": "Validate that the body contains required ## Ingredients and ## Instructions sections with at least one list item each, and that total body size is under 50,000 characters.",
      "spec": "specs/recipe-data-model.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "RDM-007",
      "title": "Implement slug generation with collision avoidance",
      "description": "Generate URL-safe slugs from recipe titles. Handle collisions by appending -2, -3, etc. Regenerate slug on title change.",
      "spec": "specs/recipe-data-model.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "RDM-008",
      "title": "Implement on-save logic (updatedAt, totalTime calc)",
      "description": "On save: set updatedAt to current time, recalculate totalTime from prepTime + cookTime if both present and totalTime not explicitly set.",
      "spec": "specs/recipe-data-model.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "RDM-009",
      "title": "Define tag taxonomy constants and validation",
      "description": "Create constants for built-in tag groups (cuisine, meal, diet, technique, custom) and validate tag values against the regex /^[a-z0-9-]{1,50}$/ with max 20 tags per group.",
      "spec": "specs/recipe-data-model.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "RDM-010",
      "title": "Write unit tests for recipe data model",
      "description": "Test parsing, serialization, validation (valid and invalid cases), slug generation, on-save logic, and tag validation.",
      "spec": "specs/recipe-data-model.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DB-001",
      "title": "Set up SQLite database connection",
      "description": "Initialize SQLite database using Deno's SQLite module. Create the database file and connection utility with proper error handling.",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DB-002",
      "title": "Create migration runner",
      "description": "Build a lightweight migration runner that tracks applied migrations in a _migrations table, applies unapplied migrations in order on startup, and runs each migration in a transaction.",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DB-003",
      "title": "Write initial schema migrations",
      "description": "Create the sequential migration SQL files: 001_create_recipes.sql (recipes table with all columns and constraints), 002_create_recipe_tags.sql (normalized tags table), 003_create_fts.sql (FTS5 virtual table).",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DB-004",
      "title": "Create index migrations",
      "description": "Write migration for standard indexes: slug uniqueness, created_at, updated_at, difficulty, and tag query indexes (group+value composite, value-only).",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DB-005",
      "title": "Implement recipe write path (insert/update)",
      "description": "Build the transactional write path: insert/update recipes row, delete and re-insert recipe_tags, and update the FTS index â€” all within a single transaction.",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DB-006",
      "title": "Implement recipe read queries",
      "description": "Build query functions for: get recipe by slug, get recipe by ID, list recipes with pagination and sorting (by created_at, updated_at).",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DB-007",
      "title": "Implement tag-based query functions",
      "description": "Build AND, OR, and NOT tag query functions using INTERSECT/UNION/NOT IN patterns against the recipe_tags table.",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "DB-008",
      "title": "Implement full-text search query",
      "description": "Build a search function using the FTS5 virtual table to search recipe titles and body content, returning results ranked by relevance.",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "DB-009",
      "title": "Implement re-index operation",
      "description": "Build a re-index command that reads the document column for all recipes, re-parses frontmatter/body, and rebuilds extracted columns, recipe_tags, and FTS index.",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "low"
    },
    {
      "id": "DB-010",
      "title": "Write unit tests for database layer",
      "description": "Test migration runner, recipe CRUD operations, tag queries (AND/OR/NOT), full-text search, constraint enforcement, and transactional integrity.",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "high"
    }
  ]
}
