{
  "columns": ["backlog", "in-progress", "review", "done"],
  "tasks": [
    {
      "id": "RDM-001",
      "title": "Define recipe TypeScript types from schema",
      "description": "Create TypeScript interfaces/types for the full recipe schema: Recipe, RecipeSource, RecipeTags, Servings, and related types.",
      "spec": "specs/recipe-data-model.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RDM-002",
      "title": "Implement ULID generation for recipe IDs",
      "description": "Add ULID dependency and create a utility for generating recipe IDs.",
      "spec": "specs/recipe-data-model.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RDM-003",
      "title": "Build YAML frontmatter parser",
      "description": "Parse Markdown files with YAML frontmatter into structured Recipe objects. Handle the frontmatter/body split.",
      "spec": "specs/recipe-data-model.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RDM-004",
      "title": "Build YAML frontmatter serializer",
      "description": "Serialize a Recipe object back into a Markdown file with YAML frontmatter.",
      "spec": "specs/recipe-data-model.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RDM-005",
      "title": "Implement frontmatter validation",
      "description": "Validate all frontmatter fields per spec: ULID format, title length, slug format, servings positivity, ISO 8601 durations, difficulty enum, source.type enum, tag format regex.",
      "spec": "specs/recipe-data-model.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "RDM-006",
      "title": "Implement Markdown body validation",
      "description": "Validate that the body contains required ## Ingredients and ## Instructions sections with at least one list item each, and that total body size is under 50,000 characters.",
      "spec": "specs/recipe-data-model.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "RDM-007",
      "title": "Implement slug generation with collision avoidance",
      "description": "Generate URL-safe slugs from recipe titles. Handle collisions by appending -2, -3, etc. Regenerate slug on title change.",
      "spec": "specs/recipe-data-model.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "RDM-008",
      "title": "Implement on-save logic (updatedAt, totalTime calc)",
      "description": "On save: set updatedAt to current time, recalculate totalTime from prepTime + cookTime if both present and totalTime not explicitly set.",
      "spec": "specs/recipe-data-model.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "RDM-009",
      "title": "Define tag taxonomy constants and validation",
      "description": "Create constants for built-in tag groups (cuisine, meal, diet, technique, custom) and validate tag values against the regex /^[a-z0-9-]{1,50}$/ with max 20 tags per group.",
      "spec": "specs/recipe-data-model.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "RDM-010",
      "title": "Write unit tests for recipe data model",
      "description": "Test parsing, serialization, validation (valid and invalid cases), slug generation, on-save logic, and tag validation.",
      "spec": "specs/recipe-data-model.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DB-001",
      "title": "Set up SQLite database connection",
      "description": "Initialize SQLite database using Deno's SQLite module. Create the database file and connection utility with proper error handling.",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DB-002",
      "title": "Create migration runner",
      "description": "Build a lightweight migration runner that tracks applied migrations in a _migrations table, applies unapplied migrations in order on startup, and runs each migration in a transaction.",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DB-003",
      "title": "Write initial schema migrations",
      "description": "Create the sequential migration SQL files: 001_create_recipes.sql (recipes table with all columns and constraints), 002_create_recipe_tags.sql (normalized tags table), 003_create_fts.sql (FTS5 virtual table).",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DB-004",
      "title": "Create index migrations",
      "description": "Write migration for standard indexes: slug uniqueness, created_at, updated_at, difficulty, and tag query indexes (group+value composite, value-only).",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DB-005",
      "title": "Implement recipe write path (insert/update)",
      "description": "Build the transactional write path: insert/update recipes row, delete and re-insert recipe_tags, and update the FTS index â€” all within a single transaction.",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DB-006",
      "title": "Implement recipe read queries",
      "description": "Build query functions for: get recipe by slug, get recipe by ID, list recipes with pagination and sorting (by created_at, updated_at).",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "DB-007",
      "title": "Implement tag-based query functions",
      "description": "Build AND, OR, and NOT tag query functions using INTERSECT/UNION/NOT IN patterns against the recipe_tags table.",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "DB-008",
      "title": "Implement full-text search query",
      "description": "Build a search function using the FTS5 virtual table to search recipe titles and body content, returning results ranked by relevance.",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "DB-009",
      "title": "Implement re-index operation",
      "description": "Build a re-index command that reads the document column for all recipes, re-parses frontmatter/body, and rebuilds extracted columns, recipe_tags, and FTS index.",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "low"
    },
    {
      "id": "DB-010",
      "title": "Write unit tests for database layer",
      "description": "Test migration runner, recipe CRUD operations, tag queries (AND/OR/NOT), full-text search, constraint enforcement, and transactional integrity.",
      "spec": "specs/database.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "API-001",
      "title": "Create response envelope helpers",
      "description": "Build utility functions for the standard JSON response envelope: success (single + list), error, and pagination meta. Include requestId generation.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "API-002",
      "title": "Implement request validation middleware",
      "description": "Build a reusable validation layer for incoming request bodies and query parameters. Return 400 with structured error details on failure. Strip unknown fields.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "API-003",
      "title": "Implement GET /api/v1/recipes (list)",
      "description": "Create the recipe list endpoint with pagination (page, pageSize), sorting (createdAt, updatedAt, title), and optional difficulty filter. Return summary objects without document body.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "API-004",
      "title": "Implement GET /api/v1/recipes/:slug (detail)",
      "description": "Create the recipe detail endpoint that returns the full recipe object including parsed Markdown body. Return 404 if slug not found.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "API-005",
      "title": "Implement POST /api/v1/recipes (create)",
      "description": "Create the recipe creation endpoint. Validate request body, auto-generate id/slug/createdAt/updatedAt/totalTime, persist via the database write path, and return 201 with the full recipe.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "API-006",
      "title": "Implement PUT /api/v1/recipes/:slug (full update)",
      "description": "Create the full recipe replacement endpoint. Require all writable fields, preserve id and createdAt, set updatedAt, regenerate slug if title changed. Return 200 with updated recipe.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "API-007",
      "title": "Implement PATCH /api/v1/recipes/:slug (partial update)",
      "description": "Create the partial update endpoint with merge semantics: top-level fields replaced, tag groups replaced per-group, body replaces entirely if provided. Return 200 with full updated recipe.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "API-008",
      "title": "Implement DELETE /api/v1/recipes/:slug",
      "description": "Create the recipe deletion endpoint. Remove the recipe and return 204 No Content. Return 404 if slug not found.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "API-009",
      "title": "Implement GET /api/v1/recipes/search (full-text search)",
      "description": "Create the full-text search endpoint using FTS5. Accept q parameter, return paginated recipe summaries ordered by relevance. Return 400 if q is missing.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "API-010",
      "title": "Implement GET /api/v1/recipes/query (tag query)",
      "description": "Create the tag-based query endpoint supporting include (AND), any (OR), and exclude (NOT) parameters as comma-separated group:value pairs. Return paginated results with sorting.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "API-011",
      "title": "Implement GET /api/v1/tags endpoints",
      "description": "Create endpoints to list all tags grouped with usage counts (GET /api/v1/tags) and list tags within a specific group (GET /api/v1/tags/:group).",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "medium"
    },
    {
      "id": "API-012",
      "title": "Set up SvelteKit API route file structure",
      "description": "Create the SvelteKit file-based route structure under src/routes/api/v1/ with +server.ts files for recipes, recipes/[slug], recipes/search, recipes/query, tags, and tags/[group].",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "high"
    },
    {
      "id": "API-013",
      "title": "Write integration tests for API routes",
      "description": "Test all API endpoints: CRUD operations, pagination, sorting, search, tag queries, validation error responses, 404 handling, and response envelope format.",
      "spec": "specs/api-routes.md",
      "column": "backlog",
      "priority": "high"
    }
  ]
}
